define("ds2-tracking-navigation-sales-bar",["jquery","ds2-tracking-base","ds2-tracking"],function(c,k,g){c.widget("digitals2.ds2TrackingNavigationSalesbar",k,{_listenersInit:function(){var b=this;c(".ds2-link",this.element).on("click",function(){var a=c(this).data("tracking-options").name;"request_link"!==a&&"configurator_link"!==a&&(a=b.getEventAction(),b._callExpandEvent(b.eventBuilder.newEvent().eventName(c(this).text().trim()).cause(b._isStickyWrapper()?"content bar":"Main Navigation").eventAction(a).primaryCategory(b.TC.SUCCESS).delayed().build(),
b.bmwTrackOptionsBuilder.options().name("start_XXX").timing(!1).build()))});this._super()},_isStickyWrapper:function(){return!!c(".ds2-is-sticky-wrapper").length}});return function(c){c.ds2TrackingNavigationSalesbar(g.getOptions("ds2-navigation-salesbar"))}});
define("ds2-navigation-salesbar",["jquery","ds2-tracking-navigation-sales-bar","ds2-text-direction","ds2-resize-events"],function(c,k,g){function b(a){this.element=c(a);this.options={flyoutClass:"ds2-navigation-main--flyout-container",navigationClass:"ds2-navigation-main--container",contentBar:"ds2-navigation-content-bar",contentbarClass:"ds2-navigation-content-bar--container",salesbarMenuClass:"ds2-navigation-main--salesbar",salesbarClass:"ds2-navigation-salesbar",salesbarButtonClass:"ds2-sales-button",
buildButtonClass:"ds2-build-button",isMainNavClass:"ds2-is-mainnav",isContentbarClass:"is-contentbar"};this.element.$salesbarMenu=c("."+this.options.salesbarMenuClass,this.element);this.salesBarOpen=this.salesBarBreadcrumbOpen=this.salesBarClicked=this.isTablet=this.isMobile=!1;k(this.element);this.init()}b.prototype.init=function(){this.setDeviceValues();this.registerEventListeners()};b.prototype.setDeviceValues=function(){switch(window.digitals2.resizeEvents.mediaQueryWatcherCheck()){case "ds2ResizeSmall":this.isMobile=
!0;break;case "ds2ResizeMedium":this.isTablet=!0;break;default:this.isTablet=this.isMobile=!1}};b.prototype.registerEventListeners=function(){var a=this;c(window.digitals2.resizeEvents).on("ds2ResizeSmall ds2ResizeMedium ds2ResizeLarge ds2ResizeLargeNavi ds2ResizeMediumNavi ds2ResizeSmallNavi",a,a.onResize);c(window).on("scroll touchmove",a,a.onScroll);c("."+this.options.navigationClass+" ."+this.options.salesbarMenuClass+" a").on("click",a,a.onSalesbarMainNavClick);c("."+this.options.contentbarClass+
" ."+this.options.salesbarButtonClass+" a").on("click",a,a.onSalesbarBreadcrumbClick);c("."+this.options.navigationClass).on("salesbar:menu:close",a,a.onNaviClick);c(document).on("contentbar:click",function(){a.closeAll()});c(document).on("click",function(e){var d=c(e.target);e=d.is("li");d=0<d.closest(".ds2-navigation-main--salesbar").length;e||d||a.closeAll()});this.element.on("ds2-navigation-salesbar--equalizeButtons",function(){a.equalizeButtons()})};b.prototype.equalizeButtons=function(){switch(window.digitals2.resizeEvents.mediaQueryWatcherCheck()){case "ds2ResizeSmall":this.isMobile=
!0;break;case "ds2ResizeMedium":this.isTablet=!0;break;default:this.isTablet=this.isMobile=!1}};b.prototype.setFlyoutMargin=function(a){var e=0,d=e,b=c("."+this.options.contentbarClass+" ."+this.options.salesbarButtonClass+" a").width(),h=c("."+this.options.contentBar).height(),f="contentbar"===a?c(".ds2-buttonlist",".ds2-navigation-content-bar--container").first():c(".ds2-navigation-main--special").first();this.isMobile||this.isTablet?"contentbar"!=a&&f&&0<f.length&&(d=e):f&&0<f.length&&(e=g.isLTR?
f.offset().left:c("body").width()-f.offset().left-f.outerWidth(),d=e+7);switch(a){case "contentbar":a=this.isMobile||this.isTablet?"100%":b;d=this.isMobile||this.isTablet?"absolute":"fixed";h=this.isMobile||this.isTablet?c(document).scrollTop()+h:h;this.element.css({position:d,width:a,top:h,zIndex:2E3}).addClass(this.options.isContentbarClass).removeClass(this.options.isMainNavClass);g.isLTR?(this.element.css({left:e}),this.element.$salesbarMenu.first().css({marginLeft:0})):(this.element.css({right:e}),
this.element.$salesbarMenu.first().css({marginRight:0}));break;default:this.element.removeClass(this.options.isContentbarClass).addClass(this.options.isMainNavClass),g.isLTR?this.element.$salesbarMenu.first().css({marginLeft:d}):this.element.$salesbarMenu.first().css({marginRight:d})}};b.prototype.equalizeButtons=function(){var a=c("."+this.options.contentbarClass+" ."+this.options.salesbarButtonClass+" a"),e=c("."+this.options.contentbarClass+" ."+this.options.buildButtonClass+" a"),b=Math.max(a.width(),
e.width());!this.isMobile&&!this.isTablet&&0<b&&(b=285<b+2?285:b+2,a.width(b),e.width(b))};b.prototype.showSalesbar=function(a,b){this.salesBarOpen=!0;this.element.addClass("ds2-active");c(".ds2-navigation-main--top-bar").addClass("ds2-navigation-main--top-bar-open");c(document).trigger("models:click");this.salesBarClicked=!1;c("."+this.options.navigationClass+" ."+this.options.salesbarMenuClass+" a").removeClass("ds2-active").addClass("ds2-active")};b.prototype.hideSalesbar=function(){this.element.removeClass("ds2-active");
c(".ds2-navigation-main--top-bar").removeClass("ds2-navigation-main--top-bar-open");c(document).trigger("models:click");this.salesBarOpen=!1;c("."+this.options.navigationClass+" ."+this.options.salesbarMenuClass+" a").removeClass("ds2-active")};b.prototype.showSalesBarContentBar=function(){var a=c("."+this.options.contentbarClass+" ."+this.options.salesbarButtonClass+" a");this.setFlyoutMargin("contentbar");this.salesBarBreadcrumbOpen=!0;a.parent().addClass("ds2-active");this.showSalesbar()};b.prototype.hideSalesBarContentBar=
function(){var a=c("."+this.options.contentbarClass+" ."+this.options.salesbarButtonClass+" a");this.salesBarContentBarOpen=!1;a.parent().removeClass("ds2-active");this.hideSalesbar()};b.prototype.closeAll=function(){var a=c("."+this.options.contentbarClass+" ."+this.options.salesbarButtonClass+" a");this.salesBarBreadcrumbOpen&&(a.parent().hasClass("ds2-active"),this.hideSalesBarContentBar())};b.prototype.onSalesbarMainNavClick=function(a){var b=a.data,d;b.element[0].removeAttribute("style");c(".ds2-navigation-main--flyout-container").hasClass("ds2-navigation-main--flyout-container--open")&&
(d=!0);b.element.addClass("ds2-is-mainnav");!c(".ds2-navigation-content-bar").height()||this.isMobile||this.isTablet?c(".ds2-navigation-salesbar--container").addClass("ds2-padding-bottom"):c(".ds2-navigation-salesbar--container").removeClass("ds2-padding-bottom");b.setFlyoutMargin();1>=c(a.currentTarget).attr("href").length&&(a.preventDefault(),a.stopPropagation(),c(document).trigger("salesbar:click"),b.salesBarClicked=!0,a=0,c(".ds2-navigation-main .ds2-navigation-main--flyout-container").hasClass("ds2-navigation-main--flyout-container--open")?
(a=300,c("."+b.options.navigationClass).trigger("navigation:menu:close")):(c("."+b.options.navigationClass).trigger("searchform:menu:close"),c(".ds2-navigation-main--search a").removeClass("ds2-active")),b.element.hasClass("ds2-active")?(b.salesBarClicked=!1,b.hideSalesbar()):b.showSalesbar(a,d))};b.prototype.onSalesbarBreadcrumbClick=function(a){var b=a.data,d=c(a.currentTarget);a.preventDefault();a.stopPropagation();c(document).trigger("salesbar:click");d.parent().hasClass("ds2-active")?b.hideSalesBarContentBar():
b.showSalesBarContentBar()};b.prototype.onNaviClick=function(a){a=a.data;a.element.removeClass("ds2-active");a.salesBarOpen=!1};b.prototype.onResize=function(a){a=a.data;var b=c("."+a.options.contentbarClass).height(),d=c("."+a.options.contentbarClass+" ."+a.options.salesbarButtonClass+" a");a.hideSalesBarContentBar();(a.isMobile||a.isTablet)&&d.width("auto");a.element.hasClass(a.options.isContentbarClass);a.equalizeButtons();a.setDeviceValues();a.element.hasClass("ds2-active")&&a.setDeviceValues();
a.salesBarBreadcrumbOpen&&a.element.css({top:a.isMobile||a.isTablet?c(document).scrollTop()+b:b})};b.prototype.onScroll=function(a){a.data.closeAll()};return b});