(function(){var U=function(){function n(){}return n.prototype.track=function(e){var t=this;e.onSpeedKitLoaded(function(){t.sendData(e),t.sendOriginData(e)}),e.onDfDataReady(function(){return t.sendOriginData(e)}),window.addEventListener("pagehide",function(){return t.sendData(e)})},n.prototype.sendData=function(e){if(SpeedKit.dynamicBlocks&&!(new Date(SpeedKit.dynamicBlocks.start).getFullYear()<=1970)){var t={start:e.calculateRelative(SpeedKit.dynamicBlocks.start),status:SpeedKit.dynamicBlocks.status,received:e.calculateRelative(SpeedKit.dynamicBlocks.received),complete:e.calculateRelative(SpeedKit.dynamicBlocks.complete),localBlocks:SpeedKit.dynamicBlocks.localBlocks,remoteBlocks:SpeedKit.dynamicBlocks.remoteBlocks,mergedBlocks:SpeedKit.dynamicBlocks.mergedBlocks,changeDetection:SpeedKit.dynamicBlocks.changeDetection};e.set("dynamicFetcher",t)}},n.prototype.sendOriginData=function(e){SpeedKit.dynamicBlocks&&(new Date(SpeedKit.dynamicBlocks.start).getFullYear()<=1970||(e.set("originTTFB",SpeedKit.dynamicBlocks.originTTFB,!1),e.setTiming("originResponseStart",SpeedKit.dynamicBlocks.originResponseStart,!1)))},n}();var D,y;(function(n){n.SNIPPET="snippet",n.CONFIG="skConfig",n.RUMPLUGIN="rum",n.JSTRACKINGPLUGIN="js",n.DFCONFIG="dfConfig",n.MERGE="merge",n.CHANGEDETECTION="cd",n.DYNAMICFETCHER="df",n.BLOCKINGNOTRELEASED="blockingScriptNotReleased",n.MAINNOTMERGED="mainNotMerged",n.SERVICEWORKER="sw"})(D||(D={})),function(n){n.NOT_AVAILABLE="Not available"}(y||(y={}));var J=function(){function n(e){this.key="jsErrors",this.counter=0,this.errors={},this.options=e}return n.prototype.on=function(e,t){var r=this.options&&this.options.afterDCL?t.onDOMInteractive:function(i){return i()};r(function(){window.addEventListener("error",function(i){var a=n.errorEventToError(i);a&&e(a)}),window.addEventListener("unhandledrejection",function(i){var a=n.rejectionEventToError(i);a&&e(a)})})},n.prototype.append=function(e){var t=e.stackTrace&&e.stackTrace.split("\n")[0],r=this.options&&this.options.maxPerPi&&this.counter>=this.options.maxPerPi;return(e==null?void 0:e.stackTrace)===y.NOT_AVAILABLE||!r&&!this.errors[t]?(this.errors[t]=!0,this.counter+=1,e):null},n.errorEventToError=function(e){return{message:e.error?e.error.message:y.NOT_AVAILABLE,stackTrace:e.error?e.error.stack:y.NOT_AVAILABLE,filename:e.filename||void 0,lineno:e.lineno,colno:e.colno,timestamp:Date.now(),type:D.JSTRACKINGPLUGIN}},n.rejectionEventToError=function(e){var t=e.reason instanceof Error;return{message:t?e.reason.message:y.NOT_AVAILABLE,stackTrace:t&&e.reason.stack?e.reason.stack:y.NOT_AVAILABLE,timestamp:Date.now(),type:D.JSTRACKINGPLUGIN}},n}();var g,b,ie,F,V,L=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},k=function(n){if(document.readyState==="loading")return"loading";var e=L();if(e){if(n<e.domInteractive)return"loading";if(e.domContentLoadedEventStart===0||n<e.domContentLoadedEventStart)return"dom-interactive";if(e.domComplete===0||n<e.domComplete)return"dom-content-loaded"}return"complete"},he=function(n){var e=n.nodeName;return n.nodeType===1?e.toLowerCase():e.toUpperCase().replace(/^#/,"")},A=function(n,e){var t="";try{for(;n&&n.nodeType!==9;){var r=n,i=r.id?"#"+r.id:he(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(t.length+i.length>(e||100)-1)return t||i;if(t=t?i+">"+t:i,r.id)break;n=r.parentNode}}catch(a){}return t},ae=-1,oe=function(){return ae},S=function(n){addEventListener("pageshow",function(e){e.persisted&&(ae=e.timeStamp,n(e))},!0)},G=function(){var n=L();return n&&n.activationStart||0},m=function(n,e){var t=L(),r="navigate";return oe()>=0?r="back-forward-cache":t&&(document.prerendering||G()>0?r="prerender":document.wasDiscarded?r="restore":t.type&&(r=t.type.replace(/_/g,"-"))),{name:n,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},w=function(n,e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){var r=new PerformanceObserver(function(i){Promise.resolve().then(function(){e(i.getEntries())})});return r.observe(Object.assign({type:n,buffered:!0},t||{})),r}}catch(i){}},h=function(n,e,t,r){var i,a;return function(o){e.value>=0&&(o||r)&&((a=e.value-(i||0))||i===void 0)&&(i=e.value,e.delta=a,e.rating=function(s,c){return s>c[1]?"poor":s>c[0]?"needs-improvement":"good"}(e.value,t),n(e))}},W=function(n){requestAnimationFrame(function(){return requestAnimationFrame(function(){return n()})})},M=function(n){var e=function(t){t.type!=="pagehide"&&document.visibilityState!=="hidden"||n(t)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},q=function(n){var e=!1;return function(t){e||(n(t),e=!0)}},E=-1,_=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},O=function(n){document.visibilityState==="hidden"&&E>-1&&(E=n.type==="visibilitychange"?n.timeStamp:0,ge())},Y=function(){addEventListener("visibilitychange",O,!0),addEventListener("prerenderingchange",O,!0)},ge=function(){removeEventListener("visibilitychange",O,!0),removeEventListener("prerenderingchange",O,!0)},j=function(){return E<0&&(E=_(),Y(),S(function(){setTimeout(function(){E=_(),Y()},0)})),{get firstHiddenTime(){return E}}},B=function(n){document.prerendering?addEventListener("prerenderingchange",function(){return n()},!0):n()},z=[1800,3e3],se=function(n,e){e=e||{},B(function(){var t,r=j(),i=m("FCP"),a=w("paint",function(o){o.forEach(function(s){s.name==="first-contentful-paint"&&(a.disconnect(),s.startTime<r.firstHiddenTime&&(i.value=Math.max(s.startTime-G(),0),i.entries.push(s),t(!0)))})});a&&(t=h(n,i,z,e.reportAllChanges),S(function(o){i=m("FCP"),t=h(n,i,z,e.reportAllChanges),W(function(){i.value=performance.now()-o.timeStamp,t(!0)})}))})},Q=[.1,.25],ye=function(n,e){(function(t,r){r=r||{},se(q(function(){var i,a=m("CLS",0),o=0,s=[],c=function(d){d.forEach(function(l){if(!l.hadRecentInput){var f=s[0],p=s[s.length-1];o&&l.startTime-p.startTime<1e3&&l.startTime-f.startTime<5e3?(o+=l.value,s.push(l)):(o=l.value,s=[l])}}),o>a.value&&(a.value=o,a.entries=s,i())},u=w("layout-shift",c);u&&(i=h(t,a,Q,r.reportAllChanges),M(function(){c(u.takeRecords()),i(!0)}),S(function(){o=0,a=m("CLS",0),i=h(t,a,Q,r.reportAllChanges),W(function(){return i()})}),setTimeout(i,0))}))})(function(t){(function(r){if(r.entries.length){var i=r.entries.reduce(function(s,c){return s&&s.value>c.value?s:c});if(i&&i.sources&&i.sources.length){var a=(o=i.sources).find(function(s){return s.node&&s.node.nodeType===1})||o[0];if(a)return void(r.attribution={largestShiftTarget:A(a.node),largestShiftTime:i.startTime,largestShiftValue:i.value,largestShiftSource:a,largestShiftEntry:i,loadState:k(i.startTime)})}}var o;r.attribution={}})(t),n(t)},e)},Te=function(n,e){se(function(t){(function(r){if(r.entries.length){var i=L(),a=r.entries[r.entries.length-1];if(i){var o=i.activationStart||0,s=Math.max(0,i.responseStart-o);return void(r.attribution={timeToFirstByte:s,firstByteToFCP:r.value-s,loadState:k(r.entries[0].startTime),navigationEntry:i,fcpEntry:a})}}r.attribution={timeToFirstByte:0,firstByteToFCP:r.value,loadState:k(oe())}})(t),n(t)},e)},I={passive:!0,capture:!0},Ee=new Date,X=function(n,e){g||(g=e,b=n,ie=new Date,ue(removeEventListener),ce())},ce=function(){if(b>=0&&b<ie-Ee){var n={entryType:"first-input",name:g.type,target:g.target,cancelable:g.cancelable,startTime:g.timeStamp,processingStart:g.timeStamp+b};F.forEach(function(e){e(n)}),F=[]}},Se=function(n){if(n.cancelable){var e=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;n.type=="pointerdown"?function(t,r){var i=function(){X(t,r),o()},a=function(){o()},o=function(){removeEventListener("pointerup",i,I),removeEventListener("pointercancel",a,I)};addEventListener("pointerup",i,I),addEventListener("pointercancel",a,I)}(e,n):X(e,n)}},ue=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return n(e,Se,I)})},Z=[100,300],we=function(n,e){e=e||{},B(function(){var t,r=j(),i=m("FID"),a=function(c){c.startTime<r.firstHiddenTime&&(i.value=c.processingStart-c.startTime,i.entries.push(c),t(!0))},o=function(c){c.forEach(a)},s=w("first-input",o);t=h(n,i,Z,e.reportAllChanges),s&&M(q(function(){o(s.takeRecords()),s.disconnect()})),s&&S(function(){var c;i=m("FID"),t=h(n,i,Z,e.reportAllChanges),F=[],b=-1,g=null,ue(addEventListener),c=a,F.push(c),ce()})})},Ie=function(n,e){we(function(t){(function(r){var i=r.entries[0];r.attribution={eventTarget:A(i.target),eventType:i.name,eventTime:i.startTime,eventEntry:i,loadState:k(i.startTime)}})(t),n(t)},e)},le=0,N=1/0,P=0,be=function(n){n.forEach(function(e){e.interactionId&&(N=Math.min(N,e.interactionId),P=Math.max(P,e.interactionId),le=P?(P-N)/7+1:0)})},de=function(){return V?le:performance.interactionCount||0},ke=function(){"interactionCount"in performance||V||(V=w("event",be,{type:"event",buffered:!0,durationThreshold:0}))},$=[200,500],fe=0,ee=function(){return de()-fe},v=[],x={},te=function(n){var e=v[v.length-1],t=x[n.interactionId];if(t||v.length<10||n.duration>e.latency){if(t)t.entries.push(n),t.latency=Math.max(t.latency,n.duration);else{var r={id:n.interactionId,latency:n.duration,entries:[n]};x[r.id]=r,v.push(r)}v.sort(function(i,a){return a.latency-i.latency}),v.splice(10).forEach(function(i){delete x[i.id]})}},Le=function(n,e){e=e||{},B(function(){ke();var t,r=m("INP"),i=function(o){o.forEach(function(u){u.interactionId&&te(u),u.entryType==="first-input"&&!v.some(function(d){return d.entries.some(function(l){return u.duration===l.duration&&u.startTime===l.startTime})})&&te(u)});var s,c=(s=Math.min(v.length-1,Math.floor(ee()/50)),v[s]);c&&c.latency!==r.value&&(r.value=c.latency,r.entries=c.entries,t())},a=w("event",i,{durationThreshold:e.durationThreshold||40});t=h(n,r,$,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),M(function(){i(a.takeRecords()),r.value<0&&ee()>0&&(r.value=0,r.entries=[]),t(!0)}),S(function(){v=[],fe=de(),r=m("INP"),t=h(n,r,$,e.reportAllChanges)}))})},Ce=function(n,e){Le(function(t){(function(r){if(r.entries.length){var i=r.entries.sort(function(a,o){return o.duration-a.duration||o.processingEnd-o.processingStart-(a.processingEnd-a.processingStart)})[0];r.attribution={eventTarget:A(i.target),eventType:i.name,eventTime:i.startTime,eventEntry:i,loadState:k(i.startTime)}}else r.attribution={}})(t),n(t)},e)},ne=[2500,4e3],R={},De=function(n,e){(function(t,r){r=r||{},B(function(){var i,a=j(),o=m("LCP"),s=function(d){var l=d[d.length-1];l&&l.startTime<a.firstHiddenTime&&(o.value=Math.max(l.startTime-G(),0),o.entries=[l],i())},c=w("largest-contentful-paint",s);if(c){i=h(t,o,ne,r.reportAllChanges);var u=q(function(){R[o.id]||(s(c.takeRecords()),c.disconnect(),R[o.id]=!0,i(!0))});["keydown","click"].forEach(function(d){addEventListener(d,u,!0)}),M(u),S(function(d){o=m("LCP"),i=h(t,o,ne,r.reportAllChanges),W(function(){o.value=performance.now()-d.timeStamp,R[o.id]=!0,i(!0)})})}})})(function(t){(function(r){if(r.entries.length){var i=L();if(i){var a=i.activationStart||0,o=r.entries[r.entries.length-1],s=o.url&&performance.getEntriesByType("resource").filter(function(p){return p.name===o.url})[0],c=Math.max(0,i.responseStart-a),u=Math.max(c,s?(s.requestStart||s.startTime)-a:0),d=Math.max(u,s?s.responseEnd-a:0),l=Math.max(d,o?o.startTime-a:0),f={element:A(o.element),timeToFirstByte:c,resourceLoadDelay:u-c,resourceLoadTime:d-u,elementRenderDelay:l-d,navigationEntry:i,lcpEntry:o};return o.url&&(f.url=o.url),s&&(f.lcpResourceEntry=s),void(r.attribution=f)}}r.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:r.value}})(t),n(t)},e)};function Pe(){return typeof PerformanceObserver!="undefined"&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.indexOf("first-input")>=0}function pe(n,e){if(e===void 0&&(e=""),n.tagName==="BODY"||n.id)return((n.id?[n.tagName,n.id].join("#"):n.tagName)+" "+e).trim();var t=Array.from(n.classList).map(function(r){return"."+r}).join("");return t=("> "+n.tagName+t+" "+e).trim(),n.parentElement?pe(n.parentElement,t):t}function Fe(){return!!document.querySelector(".speed-kit-dynamic-loading,.speed-kit-dynamic-loaded")}function Oe(n,e){var t=n&&n.attributes;return e&&t&&t[e]?t[e].value:void 0}function K(n,e){var t=n[e];return t&&typeof t.animVal=="string"?t.animVal:t}function re(n){var e,t=n,r=K(n,"className"),i=t.for||Oe(n,"id"),a=t.formTarget||K(n,"target"),o=(n.attributes&&n.attributes.formaction?t.formAction:"")||t.action||K(n,"href")||t.src||t.srcset||t.currentSrc||t.code||t.codebase;return{selector:pe(n),trusted:!!Fe()&&[0,void 0,!1].includes((e=SpeedKit==null?void 0:SpeedKit.dynamicBlocks)===null||e===void 0?void 0:e.complete),classes:r,id:i,target:a,url:o}}function Ae(){return typeof PerformanceObserver!="undefined"&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.indexOf("layout-shift")>=0}var ve=function(){function n(){var e=this;this.cls={name:"CLS",value:0,delta:0,id:"init",entries:[]},this.lcpCandidates=[];try{ye(function(t){return e.cls=t},{reportAllChanges:!0}),De(function(t){return e.lcp=t},{reportAllChanges:!0}),Ce(function(t){return e.inp=t},{reportAllChanges:!0})}catch(t){}}return n.prototype.on=function(e,t){var r=this;this.listenForLCPCandidates(),this.listenForFirstInputDelay(t),this.listenForFirstInteraction(t),Te(function(a){return r.trackFCP(t,a)},{reportAllChanges:!0}),t.onLeavePage(function(){r.lcpCandidates.length&&(t.set("lcpCandidates",r.lcpCandidates),r.lcpCandidates=[]),e([r.lcp,r.cls,r.inp])});var i=!1;["keydown","click"].forEach(function(a){addEventListener(a,function(o){o.isTrusted&&!i&&(e([r.lcp]),i=!0)},{capture:!0,once:!0})})},n.prototype.track=function(e,t){for(var r=0,i=t;r<i.length;r++){var a=i[r];if(a)switch(a.name){case"LCP":this.trackLCP(e);break;case"CLS":this.trackCLS(e);break;case"INP":this.trackINP(e)}}},n.prototype.trackLCP=function(e){if(this.lcp&&(e.set("lcp",this.lcp.value),this.lcp.attribution&&Object.keys(this.lcp.attribution).length!==0)){var t=this.lcp.attribution,r=t.lcpEntry,i=t.lcpResourceEntry,a=t.elementRenderDelay,o=t.element,s=i?this.getLCPResourceTimings(i):void 0,c=this.getLCPElement(r==null?void 0:r.element,o);c&&(c.target=c.target||void 0,c.classes=c.classes||void 0);var u={renderDelay:a?Math.round(a):void 0};e.set("lcpElement",c),e.set("lcpResourceTimings",s),e.set("lcpAttribution",u)}},n.prototype.getLCPElement=function(e,t){var r=e;if(!r)try{r=t&&document.querySelector(t)||void 0}catch(i){}return r?re(r):void 0},n.prototype.getLCPResourceTimings=function(e){var t=e.name,r=e.startTime,i=e.requestStart,a=e.responseEnd;return{url:t,start:Math.round(r),requestStart:Math.round(i),responseEnd:Math.round(a)}},n.prototype.listenForLCPCandidates=function(){var e=this;try{new PerformanceObserver(function(t){for(var r=0,i=t.getEntries();r<i.length;r++){var a=i[r];e.lcpCandidates.push({id:a.id||void 0,url:a.url||void 0,startTime:Math.round(a.startTime),loadTime:Math.round(a.loadTime),renderTime:Math.round(a.renderTime)})}}).observe({type:"largest-contentful-paint",buffered:!0})}catch(t){}},n.prototype.trackCLS=function(e){var t,r;if(Ae()&&(e.set("cls",((t=this.cls)===null||t===void 0?void 0:t.value)||0),((r=this.cls)===null||r===void 0?void 0:r.attribution)&&Object.keys(this.cls.attribution).length!==0)){var i=this.cls.attribution,a=i.loadState,o=i.largestShiftTime,s=i.largestShiftSource,c=i.largestShiftValue,u={shiftTime:o?Math.round(o):void 0,shiftValue:c,loadState:a};e.set("clsAttribution",u),s&&this.trackLargestCLS(e,s)}},n.prototype.trackLargestCLS=function(e,t){try{var r=re(t.node);r.target=r.target||void 0,r.classes=r.classes||void 0,e.set("lClsElement",r),e.set("lClsShiftPrev",this.getShiftInfo(t.previousRect)),e.set("lClsShiftCur",this.getShiftInfo(t.currentRect))}catch(i){}},n.prototype.getShiftInfo=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height}},n.prototype.listenForFirstInteraction=function(e){var t=this;addEventListener("scroll",function(r){return t.trackFIA(e,r.timeStamp)},{once:!0})},n.prototype.listenForFirstInputDelay=function(e){var t=this;if(!Pe())return this.trackLegacyFID(e);Ie(function(r){return t.trackFID(e,r)},{reportAllChanges:!0})},n.prototype.trackFID=function(e,t){var r=t.entries.filter(function(s){return s.entryType==="first-input"})[0],i=Math.round(this.calculateFirstInteractionTime(r.startTime));if(e.set("fi",i),e.set("fid",Math.round(t.value)),!this.fia&&e.set("fia",i),t.attribution&&Object.keys(t.attribution).length!==0){var a=t.attribution.eventType,o=t.attribution.eventTarget||void 0;e.set("fidAttribution",{eventTarget:o,eventType:a})}},n.prototype.trackINP=function(e){if(this.inp&&(e.set("inp",Math.round(this.inp.value)),this.inp.attribution&&Object.keys(this.inp.attribution).length!==0)){var t=this.inp.attribution,r=t.eventTarget,i=t.eventTime,a={eventType:t.eventType,eventTarget:r,eventTime:i?Math.round(i):void 0};e.set("inpAttribution",a)}},n.prototype.trackFCP=function(e,t){e.set("fcp",Math.round(t.value))},n.prototype.trackFIA=function(e,t){this.fia=this.calculateFirstInteractionTime(t),e.set("fia",Math.round(this.fia))},n.prototype.trackLegacyFID=function(e){var t=this,r=["click","mousedown","keydown","touchstart","pointerup"],i=function(a){var o=t.calculateFirstInputDelay(a);if(o)try{t.trackFID(e,o),r.forEach(function(s){return removeEventListener(s,i)})}catch(s){}};r.forEach(function(a){return addEventListener(a,i,{passive:!0,capture:!0})})},n.prototype.calculateFirstInputDelay=function(e){return e.cancelable&&e.isTrusted?{name:"FID",value:(e.timeStamp>1e12?Date.now():performance.now())-e.timeStamp,entries:[{duration:0,entryType:"first-input",startTime:e.timeStamp}]}:null},n.prototype.calculateFirstInteractionTime=function(e){return e>1e12?e-performance.timing.navigationStart:e},n}();var me=function(){function n(e){this.data={},this.startTimestamp=Date.now(),this.listenerOpts={passive:!0,capture:!0},this.onlyFallback=!1,this.onlyFallback=(e==null?void 0:e.onlyFallback)||!1}return n.prototype.track=function(e){this.controller=e,this.listenScrollEvent();var t=this.isPerformanceObserverSupported();if(!t||!this.onlyFallback)if(t)this.listenWithPerformanceObserver();else try{this.listenForInputEvents()}catch(r){}},n.prototype.listenScrollEvent=function(){var e=this,t=function(r){try{if(window.removeEventListener("scroll",t),e.data.firstInteractionTime)return;e.data.firstInteractionTime=e.calculateFirstInteractionTime(r.timeStamp),e.executeTracking()}catch(i){}};window.addEventListener("scroll",t)},n.prototype.isPerformanceObserverSupported=function(){return typeof PerformanceObserver!="undefined"&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.indexOf("first-input")>=0},n.prototype.calculateInputDelay=function(e){return(e.timeStamp>1e12?Date.now():performance.now())-e.timeStamp},n.prototype.calculateFirstInteractionTime=function(e){return e>1e12?e-performance.timing.navigationStart:e},n.prototype.listenWithPerformanceObserver=function(){var e=this;new PerformanceObserver(function(t){var r=t.getEntries(),i=r[r.length-1],a=i.processingStart,o=i.startTime;e.data.firstInputDelay=a-o,e.data.firstInputTime=e.calculateFirstInteractionTime(o),e.data.firstInteractionTime||(e.data.firstInteractionTime=e.data.firstInputTime),e.executeTracking()}).observe({type:"first-input",buffered:!0})},n.prototype.executeTracking=function(){this.controller&&(this.controller.set("firstInputDelay",this.data.firstInputDelay!==void 0?Math.round(this.data.firstInputDelay):void 0),this.controller.set("firstInput",this.data.firstInputTime?Math.round(this.data.firstInputTime):void 0),this.controller.set("firstInteraction",this.data.firstInteractionTime?Math.round(this.data.firstInteractionTime):void 0))},n.prototype.listenForInputEvents=function(){this.eachEventType(addEventListener)},n.prototype.removeInputEventListeners=function(){this.eachEventType(removeEventListener)},n.prototype.calculateFirstInteractionData=function(e){this.data.firstInputDelay!==void 0||this.data.firstInputTime||(this.data.firstInputDelay=this.calculateInputDelay(e),this.data.firstInputTime=this.calculateFirstInteractionTime(e.timeStamp),this.data.firstInteractionTime||(this.data.firstInteractionTime=this.data.firstInputTime),this.removeInputEventListeners(),this.notifyFirstInputDelayIfValid())},n.prototype.notifyFirstInputDelayIfValid=function(){this.data.firstInputTime&&this.data.firstInputDelay!==void 0&&this.data.firstInputDelay>=0&&this.data.firstInputDelay<Date.now()-this.startTimestamp&&this.executeTracking()},n.prototype.onPointerDown=function(e){var t=this,r=function(){t.calculateFirstInteractionData(e),a()},i=function(){a()},a=function(){try{removeEventListener("pointerup",r,t.listenerOpts),removeEventListener("pointercancel",i,t.listenerOpts)}catch(o){}};addEventListener("pointerup",r,this.listenerOpts),addEventListener("pointercancel",i,this.listenerOpts)},n.prototype.onInteraction=function(e){try{if(!e.cancelable||!e.isTrusted)return;if(e.type==="pointerdown")return this.onPointerDown(e);this.calculateFirstInteractionData(e)}catch(t){}},n.prototype.eachEventType=function(e){var t=this;["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(r){return e(r,t.onInteraction.bind(t),t.listenerOpts)})},n}();(function(){if(window!==window.top)return;window.SpeedKit=window.SpeedKit||{};var n=!1;SpeedKit.rumPlugins=[new U,new J,new me({onlyFallback:!0}),new ve,{key:"pageType",type:"PiDimension",on:"load",set:function(){var s,c,u,d,l,f,p,T,C,H;var a=location.href;if(a.indexOf("/cart")>0)return"Cart Page";if(a.indexOf("/checkout/")>0)return"Checkout Page";if(a.indexOf("/wishlist")>0)return"wishlist Page";if(a.indexOf("/testdrives")>0)return"testdrive Page";if((u=(c=(s=window==null?void 0:window.adobeDataLayer[0])==null?void 0:s.page)==null?void 0:c.category)!=null&&u.pageType)return window.adobeDataLayer[0].page.category.pageType;if((f=(l=(d=window==null?void 0:window.dataLayer[0])==null?void 0:d.page)==null?void 0:l.category)!=null&&f.pageType)return window.dataLayer[0].page.category.pageType;if((H=(C=(T=(p=window==null?void 0:window.dataLayer)==null?void 0:p.pages[0])==null?void 0:T.page)==null?void 0:C.attributes)!=null&&H.template){var o=window.dataLayer.pages[0].page.attributes.template;return o.substring(o.lastIndexOf("/")+1)}}},{type:"PiDimension",on:"domInteractive",track:function(a){var o=[],s=new PerformanceObserver(function(c){var u=c.getEntries();o=o.concat(u)});s.observe({type:"largest-contentful-paint",buffered:!0}),addEventListener("visibilitychange",function(){n||(a.trackCustomEvent("lcpCandidates",JSON.stringify(o)),n=!0)},!0)}},{key:"pageTypeEnabled",type:"PiDimension",on:"domInteractive",set:function(){return e(location)}},{on:"domInteractive",track:function(a){if(!(SpeedKit.group==="B"||t()||!navigator.serviceWorker.controller)){var o=Array.from(document.querySelectorAll("a.cmp-modelnavigationcard--inner-anchor")).map(function(c){return c.href}).filter(function(c){return c.indexOf(location.pathname)===-1});if(!(!o||!o.length)){var s=o.map(function(c){return{url:c,initiatorType:"navigate"}});navigator.serviceWorker.controller.postMessage({type:"prewarm-fetch",data:s})}}}},{on:r,track:function(a){console.log("Activated "+location.href),a.trackCustomEvent("activation",location.href,Date.now())}},{on:"domInteractive",track:function(a){var o={},s=Array.from(document.querySelectorAll("a")).filter(function(d){if(!d.href)return!1;var l=new URL(d.href,location.origin);return l.host===location.host}),c=function(d){d.forEach(function(l){if(!!l.isIntersecting){var f=l.target;if(!!f.href){var p=new URL(f.href,location.origin);if(!!e(p)){var T=s.indexOf(f),C=f.offsetWidth*f.offsetHeight;o[p.pathname]={i:T,s:C}}}}})},u=new IntersectionObserver(c);s.forEach(function(d){return u.observe(d)}),a.onLeavePage(function(){a.trackCustomEvent("seenLinks",JSON.stringify(o))})}}],window.location.host==="www.bmw.de"&&SpeedKit.rumPlugins.push({on:function(a,o){o.onDOMInteractive(function(){var s=!1,c=function(){s||(s=!0,setTimeout(a,1e3),["keydown","click","scroll"].forEach(function(u){window.removeEventListener(u,c)}))};["keydown","click","scroll"].forEach(function(u){window.addEventListener(u,c)})})},track:function(a){function o(l,f){var p=l.top,T=l.bottom;return p>=0&&T<=f}function s(l){var f=[];return Array.from(l).slice(0,20).forEach(function(p){p.naturalWidth!==0&&f.push({src:p.src,width:p.width,height:p.height,srcWidth:p.naturalWidth,srcHeight:p.naturalHeight,isAboveFold:o(p.getBoundingClientRect(),window.innerHeight)})}),f}var c=document.querySelectorAll('img[class*="cmp-cosy-img"], img[src*="-teaser"]'),u=s(c),d={width:window.innerWidth,height:window.innerHeight};a.trackCustomEvent("imageMetaData",JSON.stringify({userWindow:d,images:u}))}});function e(a){try{var o=!0;window.speedKit&&speedKit.enabledSites&&(o=speedKit.enabledSites.some(function(c){return c.pathname?c.pathname.some(function(u){return typeof u!="string"?u.test(a.pathname):a.pathname.indexOf(u)===0}):!1}));var s=!1;return window.speedKit&&speedKit.disabledSites&&(s=speedKit.disabledSites.some(function(c){return c.pathname?c.pathname.some(function(u){return typeof u!="string"?u.test(a.pathname):a.pathname.indexOf(u)===0}):!1})),o&&!s}catch(c){}return!1}function t(){return document.prerendering||performance.getEntriesByType("navigation")[0].activationStart>0}function r(a,o){var s=performance.getEntriesByType("navigation")[0].activationStart>0;if(s)return a(o);document.prerendering&&document.addEventListener("prerenderingchange",function(){return a(o)})}function i(a,o){o.onDOMInteractive(function(){function s(){var c=window.dataLayer;if(!c){setTimeout(s,500);return}a()}s()})}})();})();
(function(){(function(){var s=function(){var t=navigator.userAgent.toLowerCase(),a=t.indexOf("edge")>-1,l=!a&&t.indexOf("chrome")>-1,b=!l&&t.indexOf("safari")>-1;if(b){var m=t.match(/version\/([\d+.]+)\s/i);if(m)return m[1]>="14"}return!0}(),i=["https://www.bmw.co.uk","https://www.bmw.de","https://www.bmw.at","https://www.bmw.ie","https://www.bmw.com.cy","https://www.bmw.mu","https://www.bmw.com.mt","https://www.bmw-m.com","https://www.bmw.co.jp","https://www.bmw.co.kr","https://www.bmw.ru","https://www.bmw.com.tr","https://www.bmw.com.mx","https://www.bmw.co.th","https://www.bmw.com.my","https://www.bmw.com.tw","https://www.bmw-voli.me","https://www.bmw.co.za","https://www.bmw.cl","https://www.bmw.co.id","https://www.bmw.ua","https://www.bmw.com.co","https://www.bmwhk.com","https://www.bmw.com.ar","https://www.bmw.co.il","https://www.bmw.com.sg","https://www.bmw.rs","https://www.bmw.ma","https://www.bmw.vn","https://www.bmw.com.ec","https://www.bmw.com.pe","https://www.bmw-egypt.com","https://www.bmw.com.ph","https://www.bmw.mq","https://www.bmw.lk","https://www.bmw.md","https://www.bmw.tm.dz","https://www.bmw.com.uy","https://www.bmw.com.mo","https://www.bmw.com.do","https://www.bmw.ba","https://www.bmw.hr","https://www.bmw.co.nz","https://www.bmw-me.com","https://www.bmw.co.cr","https://www.bmw.com.mk","https://www.bmw-tunisia.com","https://www.bmw.by","https://www.bmw-kz.com","https://www.bmw.com.py","https://www.bmw.com.pa","https://www.bmw.com.gt","https://www.bmw.es","https://www.bmw.gr","https://www.bmw.lt","https://www.bmw.ro","https://www.bmw.si","https://www.bmw.in","https://www.bmw.cz","https://www.bmw.pt","https://www.bmw.sk","https://www.bmw.com.bd","https://www.bmw.az","https://www.bmw.hn","https://www.bmw.com.bo","https://www.bmwjamaica.com","https://www.bmw.am","https://www.bmw.com.ge","https://www.bmw.cc","https://www.bmw.bm","https://www.bmw.pl","https://www.bmw.dk","https://www.bmw.fi","https://www.bmw.ca","https://www.bmw.it","https://www.bmw.ee","https://www.bmw.no","https://www.bmw.lv","https://www.bmw.se","https://www.bmw-tahiti.com","https://www.bmw.co.ao","https://www.bmw.tm","https://www.bmw.ci","https://www.bmw.fr","https://www.bmw.ch","https://www.bmw.lu","https://www.bmw.com.br","https://www.bmw.re","https://www.bmw.gp","https://www.bmw.bg","https://www.bmw.com.bn","https://www.bmw.tt","https://www.bmw.com.sv","https://www.bmw.nc","https://www.bmw.com.ky","https://www.bmw.co.ke","https://www.bmw.kg","https://www.bmw-nigeria.com","https://www.bmw-ghana.com","https://www.bmw.sn","https://www.bmwmyanmar.com","https://www.bmw.bb","https://www.bmw.uz","https://www.bmw.bs","https://www.bmw.lc","https://www.bmw-lao.la","https://www.bmw.cw","https://www.bmw.mn","https://www.bmw.sr","https://www.bmw-albania.com","https://www.bmw.com.kh","https://www.bmw.nl","https://www.bmw.be","https://www.bmw.hu","https://www.bmw-yemen.com","https://www.bmw.is","https://www.bmw.ly","https://m156.bmw-int5.com"];function w(){return i.some(function(t){return location.href.indexOf(t)>-1})}function c(){return e()?0:1}function o(){return e()?"0vs100_2023_02_21":"100"}function e(){return location.href.indexOf("https://m156.bmw-int5.com")>-1}function n(){if(location.href.indexOf("https://m156.bmw-int5.com")!==-1){var t=document.createElement("link");return t.rel="preconnect",t.href="https://bmwdev.scene7.com",document.head.appendChild(t),["https://m156.bmw-int5.com/etc.clientlibs/bmw-web/clientlibs/clientlib-dependencies.min.3b1ff8db48729def7240bb66113819d8.css","https://m156.bmw-int5.com/etc.clientlibs/bmw-web/clientlibs/clientlib-base.min.176e361791d93e711ef7f0edb9af7a57.css","https://m156.bmw-int5.com/etc.clientlibs/bmw-web/clientlibs/clientlib-components.min.d17e75ae1463005bc0043772b64c6c15.css","https://m156.bmw-int5.com/etc.clientlibs/bmw-web/clientlibs/clientlib-components.min.11467c7aa8498609a0119858a013036a.css","https://m156.bmw-int5.com/etc.clientlibs/bmw-web/clientlibs/clientlib-site/resources/fonts/BMWTypeNext-Regular.woff2","https://m156.bmw-int5.com/etc.clientlibs/bmw-web/components/page/v2/page/clientlibs.min.26788af76049ddfc747266d1f31f4f28.css"]}}window.speedKit={appName:"bmw",sw:"/wrapper-sw.js?r=2deaf32a-1f2c-49f7-8eda-16f173c51149&v=2.14.4",userAgentDetection:!1,rumTracking:w()&&window.activateSpeedKitRUM!==!1,split:c(),disabled:!w()||window.activateSpeedKit===!1,splitTestId:o(),precache:n(),enabledSites:[{pathname:[/\/index[/.]/i,/\/home[/.]/i,/\/topics[/.]/i,/\/all-models[/.]/i,/\/footer[/.]/i,/\/models[/.]/i,/\/fastlane[/.]/i,/\/local-content[/.]/i,"/de/neufahrzeuge","/de/neuwagensuche","/de/konfigurator","/de/landingpage/","/en/configurator","/fr/accueil","/fr/voiture-neuve","/fr/tous-les-modeles","/fr/gamme-bmw","/fr/configurateur.html","/ru/Online","/ru/general","/zh/news/","/zh/configurator","/ko/bmw-korea","/ko/discover","/ko/models","/ko/services","/tr/ssl/kampanya","/es/landing","/es/local","/es/modelos","/es/configurador","/es/integration/campana","/en/ssl/configurator","/th/ssl/configurator","/en/bmw-explore","/th/bmw-explore","/select-offers","/en_Za/integration/contact","/en/integration","/sr/ssl/Zakazivanje-serivsa.html","/es/landing-pages","/es/coches-bmw/","/es/informacion/","/es/configurator/","/es_ES/stocklocator.html","/es_ES/all-models/","/el_GR/configurator.html","/lt/konfiguratorius.html","/ro_RO/configurator.html","/sl/news-center","/pt_PT/configurator.html","/sk_SK/konfigurator.html","/pl/konfigurator.html","/APPS.html","/da/alle_modeller","/da/generelt","/da/byg-din-bmw.html","/fi/aiheet","/fi/rakenna-oma-bmw.html","/fi_FI/rakenna-oma-bmw.html","/fi/mallisto/","/it/gamma","/it_IT/configuratore.html","/et/configurator.html","/no_NO/bygg-din-bmw.html","/lv_LV/topics","/sv/bygg-din-bmw.html","/sv/alla-modeller","/sv/avdelning","/sv/sidfot","/de/bmw-neuwagen/","/de/bmw-neuwagen.html","/fidelidade","/nl/modellen.html","/nl/configurator.html","/nl/voorraad.html","/nl/specials","/nl_NL/specials","/nl/content/","/fr/configurateur.html","/hu/konfigurator.html","/hu_HU/konfigurator.html",/\/de\/dsx/i]}],disabledSites:[{pathname:[/\?speedkit=off/i,/dealer-locator.html/i,/MyAccount.html/i,/mybmw/i,/mein-bmw/i,/mybmw-dashboard/i,/my-bmw/i,/topics\/offers-and-services\/used-automobiles\/our-offers\.html/,/\/lt\/topics\/offers-and-services\/bmw-online-store.html/,/\/content\/forms/i,/forms\/zamow-jazde-probna\/tda\.html/,"/da/generelt/kontakt/","/da_DK/topics/kontakt/",/locator\.html/,"/fi_FI/topics/contact/","/fi/aiheet/yhteydenotto/","/fi_FI/footer/contact/","/fi/footer/yhteydenotto/","/es/index.html","/es/home.html"]}],whitelist:[{host:["www.bmw.","www.bmw-m.","www.bmw-voli.me","www.bmwhk.com","www.bmw-egypt.com","www.bmw-me.com","www.bmw-tunisia.com","www.bmw-kz.com","www.bmwjamaica.com","www.bmw-tahiti.com","www.bmwmyanmar.com","www.bmw-ghana.com","www.bmw-nigeria.com","www.bmw-lao.la","www.bmw-albania.com","www.bmw-yemen.com","assets.adobedtm.com","amplify.outbrain.com","static.criteo.net","s.pinimg.com","snap.licdn.com","bmw.admo.tv","static.iadvize.com","static.bmw.1dmp.io","static.ads-twitter.com","apps.mypurecloud.de","d.line-scdn.net","cdn.smartnews-ads.com","m156.bmw-int5.com","bmwdev.scene7.com"],contentType:["script","font","style","image","navigate"]},{url:["cdn.rutarget.ru/static/tag/tag.js","mc.yandex.ru/metrika/tag.js"]}],blacklist:[{host:s?[]:["cosystatic.bmwgroup.com","cosy.bmwgroup.com"]},{host:["api.bmw.com","api-int.bmw.com","stocklocator-dealers.bmw.com","stocklocator-dealers.bmw-int.com","c2b-services.bmw.com","c2b-services-i.bmw.com"]},{pathname:[/login/i,/\/newsletteranmeldung/i,/checkout/i,/inzahlungnahme/i,/tradin/i,/forms/i,/video.js\/video-js.min.css/,/\/settings\/wcm\/designs\/digitals2\/static\.css/,/\/inzahlungnahme/i,/tradein/i,/\/intercambio/i,/\/retoma/i,/\/permuta/i,/\/inruilen/i,/\/reprise/i,"/libs/wcm/msm/content/touch-ui/authoring/editor.min.4117887ca0f80cf30f8b0733f367af43.css","/libs/wcm/designimporter/components/touch-ui/clientlibs/editor.min.6635a2bba6ff8cb80d66ce9ac1ad815e.css","/libs/social/integrations/livefyre/components/authorizablecomponent/clientlibs.min.bef9a2b3bfc121e9d3116ba2be989f47.css","/libs/foundation/components/form/actions/mail/clientlibs.min.61c284a8a0358337305c6c732561dc4b.css","/libs/dam/remoteassets/components/clientlibs.min.825d7f462a23d8aa3da061f2044afa08.css","/libs/dam/cfm/clientlibs/authoring.min.bcda9c34faf5a23a2273f8751b846770.css","/libs/cq/flow/components/control/split/clientlibs.min.e804d986d7b4431f17a8896976e95f0d.css","/libs/commerce/gui/components/common/assetpicker/clientlibs.min.645f48a5116fe643b2062c4f76b75d82.css","/libs/commerce/components/addtocartimage/clientlib-authoring.min.ced22610c2d571622ce7285ef3946c0d.css","/etc.clientlibs/digitals2/navigate/components/navigation/clientlibs-author.min.css","/etc.clientlibs/core/wcm/components/commons/editor/clientlibs/panelselect.min.css","/etc.clientlibs/business/dealerlocator/components/par/dealerlocator/author/granite/filterServices/clientlibs.min.prod2.1.20210827-103225.min.css","/etc.clientlibs/business/dealerlocator/components/par/dealerlocator/author/granite/filterAddress/clientlibs.min.prod2.1.20210827-103225.min.css","/etc/cloudsettings.kernel.js/libs/settings/cloudsettings/legacy/contexthub","/etc/clientlibs/digitals2/clientlib/js/app/partials/0-sub-elements/ds2-video-layer-link.min.20210317121531.min.js","/etc.clientlibs/clientlibs/digitals2/ltr+requests.min","/etc/clientlibs/digitals2/clientlib/js/app/ds2-visualizer.min","/etc.clientlibs/digitals2/topics/components/detailinformation/clientlibs.min",/\/fahrzeugsuche/,/\/lagerwagen/,/\/stock-results/,/\/stocklocator/,/\/es\/index/,/\/es\/home/]},{url:["www.googletagmanager.com/gtm.js","www.googletagmanager.com/gtag/js",/registration/i,/gcdm/i,/\.pdf/i,/[?&](formtype|token)=/i,/[?&](_=1\d{12})/,/[?&]clc=/,/\/override\.css/i,"stream.bmw","bmw.scene7.com","api.bmw.com",/facebook/,/assets.adobedtm.com/,/omtrdc/,/linkedin/,/pinterest/,/sslwidget.criteo/,/demdex/,/doubleclick/,/googleads/,/googleadservices/,/\/pagead\//,/nocache/,/messagebusdefinition/,"www.bmw.co.nz/h5vco/finance/apps/html5-bmw-app.css","www.bmw.in/h5vco/finance/apps/html5-bmw-app.css","/es/index.html","/es/home.html","www.bmw.es/es/home.html","www.bmw.es/es/index.html",/minidigital/,/c2b-localsearch/i,/services/i,/api/i,"m156.bmw-int5.com/content/dam/bmw/common/images/logo-icons/BMW/BMW_Grey-Colour_RGB.SVG.asset.1605107718514.SVG"]},{cookie:["speedkit=off"],contentType:["document"]},{host:["www.bmw.in"],pathname:["/etc.clientlibs/settings/wcm/designs/digitals2/resources.css"]}],stripQueryParams:[{params:["gclid","msclkid","utm_source","utm_campaign","utm_medium","utm_content","utm_term","utm-source","utm-campaign","utm-medium","utm-content","utm-term","gclsrc","fbclid","ds_rl","dclid","cjid","campaign","yclid","mkwid","ctid","ccid","tblci","DMKW","DMSKW","DMCOL","n_campaign_type","sc_src","sc_lid","sc_uid","sc_llid","sc_customer","nspid","ac_delivery_internal_name","ac_delivery_label","ac_campaign_internal_name","ac_campaign_label",/^nx$/,/^ny$/,/^tl$/,"clkt","guid","_adp_p_ad","_adp_p_agr","_adp_e","_adp_c","_adp_p_cp","_adp_p_dm","_adp_p_md","_adp_u","s_kwcid","ef_id",/_kis_cup_/,"icp","bid","cid","hemaid","hucid","_ga","adfcd","wbraid","agCode",/^gad$/i,/^gad_source$/i]}]}})();})();
(function(){(function(v,g,O,a,De,$t,Qt){"use strict";var F="baqend-speedkit",M=F+"-user-id",te=F+"-session-id",le=F+"-session-index",pe=F+"-session-timestamp";function Oe(e,t,n,i){return Promise.resolve(e).then(function(r){return new Promise(function(o,s){var c=r.transaction(t,n),f=Promise.resolve(i(c.objectStore(t)));c.oncomplete=function(){return f.then(o)},c.onabort=c.onerror=function(){return s(c.error)}})})}function Re(e,t,n){return Oe(e,t,"readwrite",n)}function fe(e,t){return t&&t!=="/"?""+(t.lastIndexOf("/")===t.length-1?t.substr(0,t.length-1):t)+((e.indexOf("/")===0?"":"/")+e):e}var ge=function(){function e(t){this.dbp=null,this.cacheName=fe(F,t),this.dbp=this.openDb()}return e.prototype.get=function(t){return(n=this.db(),i="baqend-speedkit-store",r=function(o){return o.get(t)},Oe(n,i,"readonly",r)).then(function(o){return o.result||null});var n,i,r},e.prototype.set=function(t,n){return Re(this.db(),"baqend-speedkit-store",function(i){return i.put(n,t)&&void 0})},e.prototype.clear=function(){return Promise.all([(t=this.db(),n="baqend-speedkit-store",Re(t,n,function(i){return i.clear()}).then(function(){}))]).then(function(){});var t,n},e.prototype.disconnect=function(){var t=this;return this.dbp?this.dbp.then(function(n){t.dbp=null,n.close()}):Promise.resolve()},e.prototype.db=function(){return this.dbp||(this.dbp=this.openDb()),this.dbp},e.prototype.openDb=function(){var t=this,n=indexedDB.open(this.cacheName,1);return n.onupgradeneeded=function(i){var r=i.oldVersion,o=n.result;if(r<1){if(!o)return;try{o.createObjectStore("baqend-speedkit-store")}catch(s){}}},this.openRequest(n).then(function(i){return i.onclose=function(){t.dbp=null},i.onerror=function(){t.dbp=null},i.onversionchange=function(r){r.newVersion||(t.dbp=null,i.close())},i})},e.prototype.openRequest=function(t){return new Promise(function(n,i){t.onsuccess=function(){return n(t.result)},t.onerror=function(){return i(t.error)},t.onblocked=function(){return i(t.error)}})},e}();(function(){function e(){this.map=new Map}e.prototype.get=function(t){return Promise.resolve(this.map.get(t)||null)},e.prototype.set=function(t,n){return this.map.set(t,n),Promise.resolve()},e.prototype.clear=function(){return this.map.clear(),Promise.resolve()}})();function ne(e){v.readyState!=="complete"?window.addEventListener("load",function(){return e()}):e()}var ft=1e5;function Ae(e,t){var n=function(c,f){f===void 0&&(f=ft);var l=JSON.stringify(c),y=l.length;if(y<=f)return[c,l];var d=[],h=[];Object.keys(c).forEach(function(b){var N=JSON.stringify(c[b]);d.push({name:b,size:N.length})}),d.sort(function(b,N){return N.size-b.size});for(var u=0;y>f&&d[u];)delete c[d[u].name],y-=d[u].size,h.push(d[u].name),u+=1;return c.truncatedKeys=h,[c,JSON.stringify(c)]}(t),i=n[0],r=n[1];try{if(g.sendBeacon&&g.sendBeacon(e,r))return}catch(c){}i.xhrFallback=!0;var o=JSON.stringify(i),s=new XMLHttpRequest;s.open("POST",e,!0),s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),s.send(o)}function xe(e,t){return!(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))&&typeof e==typeof t&&(Array.isArray(e)?e.length===t.length:typeof e=="object"?function(n,i){var r=0,o=0;for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&(r+=1,!xe(n[s],i[s])))return!1;for(var s in i)o+=1;return r===o}(e,t):e===t)}function ie(e){v.readyState==="loading"?v.addEventListener("DOMContentLoaded",function(){return e()}):setTimeout(e,0)}function gt(e){v.querySelector("html.speed-kit-dynamic-loaded")?setTimeout(e,0):v.addEventListener("speed-kit-loaded",function(){return e()})}var vt=function(){function e(){this.dataLayerObservers=[]}return e.prototype.onDataLayer=function(t){if(!this.dataLayerObservers.length){var n=this.dataLayerObservers;this.observeDataLayer(function(){for(var i=function(f){var l=r;setTimeout(function(){f.apply({},l)},0)},r=arguments,o=0,s=n;o<s.length;o++){var c=s[o];i(c)}})}this.dataLayerObservers.push(t)},e.prototype.onDataLayerReady=function(t){this.waitForDataLayer(t)},e.prototype.observeDataLayer=function(t){ie(this.initDataLayer.bind(this,t))},e.prototype.initDataLayer=function(){var t=arguments[0];this.waitForDataLayer(function(){var n=window.dataLayer,i=n.push;n.push=function(){var s=Array.prototype.slice.call(arguments),c=i.apply(n,s);return t.apply(n,s),c};for(var r=0;r<n.length;r+=1)t.call(n,n[r])})},e.prototype.waitForDataLayer=function(t){var n=this;window.dataLayer?t():setTimeout(function(){n.waitForDataLayer(t)},500)},e}();function X(e){return e===void 0&&(e=25),function(t){var n=[];n.length=t;for(var i=0;i<t;)n[i]=0,i+=1;return n}(e).map(function(){return Math.floor(62*Math.random())}).map(function(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[t]}).join("")}function $(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={};return e.forEach(function(i){Object.keys(i).forEach(function(r){return n[r]=i[r]})}),n}var ht={performanceOnly:!1,stripAllParameter:!1,noCookies:!1,noTracking:!1,pageDisabled:!1};function x(){var e=$({},ht);return a.rumTracking?typeof a.rumTracking=="boolean"?e:$(e,a.rumTracking):$(e,{noTracking:!0})}function H(e){var t=null;if(typeof Storage!="undefined")try{t=localStorage.getItem(e)}catch(n){}return t}function ve(e){e===void 0&&(e=!0);var t,n=e?X():"",i=0;if((t=H(pe))&&(Date.now()-parseInt(t,10))/1e3<=1800){n=H(te);var r=""+(H(le)||-1);i=parseInt(r,10)+1}return[n,i]}function re(e,t){if(typeof Storage!="undefined")try{localStorage.setItem(e,t)}catch(n){}}var T,mt=[M,"baqend-speedkit-config"];function he(){return!(H("baqend-speedkit-sk-opt-out")!=="1"&&!window.deactivateSpeedKit)}function j(e,t){if(!(he()||(re(e,t),x().noCookies||mt.indexOf(e)<0))){var n=a.cookieLifetime||180,i=new Date(Date.now()+24*n*60*60*1e3).toUTCString();try{v.cookie=e+"="+t+"; expires="+i+"; path=/; SameSite=Lax; Secure"}catch(r){}}}function G(e,t){t===void 0&&(t=!0);var n=H(e),i=function(o){try{var s=new RegExp(o+"=([^,;]*)"),c=v.cookie.match(s);return c&&c[1]?c[1]:null}catch(f){}return null}(e),r=n||i;return r&&n!==i&&t&&j(e,r),r}function Ue(e){return e===void 0&&(e=!0),G(M,e)||X()}function me(e){return"reason"in e}function C(e,t){(function(){if(!(window.SpeedKit&&window.SpeedKit.track)){var o=x(),s=!(o.noTracking||o.performanceOnly);if(window.SpeedKit=window.SpeedKit||{},window.SpeedKit.navigateId=window.SpeedKit.navigateId||""+X(32),window.SpeedKit.group=window.SpeedKit.group||"sk",window.SpeedKit.track=yt,!window.SpeedKit.sessionId&&s){var c=ve(),f=c[0],l=c[1];window.SpeedKit.sessionId=f,window.SpeedKit.sessionIndex=l}s&&(window.SpeedKit.userId=window.SpeedKit.userId||Ue())}})();var n={timestamp:Date.now(),type:t,message:"Install.js",stackTrace:"null"};if(function(o){return!!o&&("reason"in o||"message"in o)}(e)){var i=me(e)?e.reason.message||JSON.stringify(e.reason):e.message,r=me(e)?e.reason.stack:e.stack;n.message="Install.js: "+i,n.stackTrace=r||"null"}(function(o){Be("jsErrors",[o])})(n)}function yt(e,t,n){Be("events",[{action:""+e,label:""+t,value:isNaN(Number(n))?0:Number(n)}])}function Be(e,t){var n=x();if(!n.noTracking){var i={sessionId:SpeedKit.sessionId,userId:SpeedKit.userId},r={piId:SpeedKit.navigateId,testGroup:SpeedKit.group};r[e]=t;var o=n.performanceOnly?r:$(r,i);Ae("https://"+(a.appDomain||"{}.app.baqend.com".replace("{}",a.appName))+"/v1/rum/pi",o)}}(function(e){e.SNIPPET="snippet",e.CONFIG="skConfig",e.RUMPLUGIN="rum",e.JSTRACKINGPLUGIN="js",e.DFCONFIG="dfConfig",e.MERGE="merge",e.CHANGEDETECTION="cd",e.DYNAMICFETCHER="df",e.BLOCKINGNOTRELEASED="blockingScriptNotReleased",e.MAINNOTMERGED="mainNotMerged",e.SERVICEWORKER="sw"})(T||(T={}));var St=function(){function e(t){this.rumController=t,this.triggerFunctions={domInteractive:this.rumController.onDOMInteractive,load:this.rumController.onLoad,speedKitLoaded:this.rumController.onSpeedKitLoaded,dataLayer:this.rumController.onDataLayer.bind(this.rumController),dataLayerReady:this.rumController.onDataLayerReady.bind(this.rumController),visibilityHidden:this.rumController.onVisibilityHidden,dfDataReady:this.rumController.onDfDataReady,leavePage:this.rumController.onLeavePage.bind(this.rumController),gaReady:this.rumController.onGaReady.bind(this.rumController),gaTracking:this.rumController.onGaTracking.bind(this.rumController),click:this.rumController.onClick,nextTick:this.rumController.onNextTick,softNavigation:this.rumController.onSoftNavigation.bind(this.rumController)}}return e.prototype.initPlugin=function(t){if(t.shouldExecute)try{if(!t.shouldExecute())return}catch(i){C(i,T.RUMPLUGIN)}t.type||(t.type="Data"),typeof t.on=="string"?t.on=this.triggerFunctions[t.on]||this.getUnknownTriggerFunction(t.on):t.on=t.on||function(i){return i()};var n=this.generateCallbackFunction(t);try{t.on(n,this.rumController)}catch(i){C(i,T.RUMPLUGIN)}},e.prototype.generateCallbackFunction=function(t){var n=this;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(t.track){var o=[n.rumController].concat(i);try{t.track.apply(t,o)}catch(l){C(l,T.RUMPLUGIN)}}else if(t.key&&(t.set||t.append||t.setTiming)){var s,c=n.getControllerFunction(t),f=n.getTrackingFunction(t);try{s=f.apply(t,i)}catch(l){C(l,T.RUMPLUGIN)}s!=null&&c.call(n.rumController,t.key,s)}}},e.prototype.getControllerFunction=function(t){return t.setTiming?this.rumController.setTiming:t.set?this.rumController.set:this.rumController.append},e.prototype.getTrackingFunction=function(t){return t.setTiming||t.set||t.append},e.prototype.getUnknownTriggerFunction=function(t){var n=this,i=function(r){n.resolvePluginVariable(t)!==null?r():setTimeout(function(){return i(r)},200)};return i},e.prototype.resolvePluginVariable=function(t){for(var n=t.replace(/\[(\w+)\]/g,".$1"),i=(n=n.replace(/^\./,"")).split("."),r=window,o=0,s=i;o<s.length;o++){var c=s[o];if(typeof r!="object"||r==null)break;r=r[c]}return r||null},e}();function wt(e){v.addEventListener("visibilitychange",function(){v.visibilityState==="hidden"&&e()},!0)}function bt(e){SpeedKit&&SpeedKit.dynamicBlocks&&SpeedKit.dynamicBlocks.complete&&SpeedKit.dynamicBlocks.dataComplete||!v.querySelector("html.speed-kit-dynamic-loading")?setTimeout(e,0):v.addEventListener("dynamic-fetcher-data-ready",function(){return e()})}var kt=function(){function e(){this.callbacks=[],this.unloaded=!1}return e.prototype.init=function(){var t=this;v.addEventListener("visibilitychange",function(){v.visibilityState==="hidden"?t.prepareBeforeLeaving("visibilityChange"):v.visibilityState==="visible"&&(t.unloaded=!1)}),"onpagehide"in window?window.addEventListener("pagehide",function(){return t.prepareBeforeLeaving("pagehide")}):(window.addEventListener("beforeunload",function(){return t.prepareBeforeLeaving("beforeunload")}),window.addEventListener("unload",function(){return t.prepareBeforeLeaving("unload")}))},e.prototype.onLeavePage=function(t){this.callbacks.push(t)},e.prototype.executeRemainingCallbacks=function(){if(!this.unloaded)for(var t=0,n=this.callbacks;t<n.length;t++)(0,n[t])()},e.prototype.prepareBeforeLeaving=function(t){var n=SpeedKit;this.executeRemainingCallbacks(),z(n,t),this.unloaded=!0},e.prototype.isUnloaded=function(){return this.unloaded},e}(),Tt=function(){function e(){this.gaObserver=[]}return e.prototype.onGaTracking=function(t){if(!this.gaObserver.length){var n=this.gaObserver;this.observeGa(function(){for(var i=0,r=n;i<r.length;i++){var o=r[i];o.apply({},arguments)}})}this.gaObserver.push(t)},e.prototype.onGaReady=function(t){ie(this.waitForGa.bind(this,t))},e.prototype.observeGa=function(t){ie(this.initGa.bind(this,t))},e.prototype.initGa=function(){var t=this,n=arguments[0];this.waitForGa(function(){window.ga.getAll().forEach(function(i){var r=i.get("sendHitTask");i.set("sendHitTask",function(o){r.call(t,o),n.call(t,o)})})})},e.prototype.waitForGa=function(t){var n=this,i=window.ga;i?i(function(){return t()}):setTimeout(function(){return n.waitForGa(t)},500)},e}();function It(e){return e.className?typeof e.className=="object"?e.className.animVal:e.className:""}function Ct(e){return e.getAttribute("formAction")||e.getAttribute("action")||e.getAttribute("href")||e.getAttribute("src")||e.getAttribute("code")||e.getAttribute("codebase")||""}function Nt(e){window.addEventListener("click",function(t){if(t.isTrusted){var n,i=t.target;i&&e({element:n=i,elementClasses:It(n),elementId:n.getAttribute("for")||n.id||"",elementTarget:n.getAttribute("formTarget")||n.getAttribute("target")||"",elementUrl:Ct(n)})}},{passive:!0,capture:!0})}function Pt(e){setTimeout(e,0)}var R,Et=function(){function e(){this.callbacks=[],this.currentUrl=location.href,typeof URL!="undefined"&&this.init()}return e.prototype.init=function(){var t=this,n=window.history.pushState,i=window.history.replaceState,r=function(o){try{t.triggerHistoryChange(o)}catch(s){C(s,T.RUMPLUGIN)}};window.history.pushState=function(){var o=Array.prototype.slice.call(arguments);n.apply(window.history,o);var s=o[2];s&&r(s)},window.history.replaceState=function(){var o=Array.prototype.slice.call(arguments);i.apply(window.history,o);var s=o[2];s&&r(s)},window.addEventListener("popstate",function(o){r(window.location.href)})},e.prototype.onSoftNavigation=function(t){this.callbacks.push(t)},e.prototype.triggerCallbacks=function(){var t=this;setTimeout(function(){for(var n=0,i=t.callbacks;n<i.length;n++){var r=i[n];try{r()}catch(o){C(o,T.RUMPLUGIN)}}},0)},e.prototype.triggerHistoryChange=function(t){var n=new URL(t,location.href),i=new URL(this.currentUrl,location.href);this.currentUrl=n.href,n.hash="",i.hash="",n.href!==i.href&&this.triggerCallbacks()},e}();function Ke(e,t){t===void 0&&(t="");try{if(e.tagName==="BODY"||e.id)return((e.id?[e.tagName,e.id].join("#"):e.tagName)+" "+t).trim();for(var n="",i=0;i<e.classList.length;i+=1)n+="."+e.classList[i];return n=("> "+e.tagName+n+" "+t).trim(),e.parentElement?Ke(e.parentElement,n):n}catch(r){return null}}(function(e){e.Override="override",e.Append="append",e.Force="force",e.Once="once"})(R||(R={}));var I,Fe,Ge,Q,Z,L,q,oe,D,Lt=function(){function e(t,n,i){this.beaconIndex=0,this.sendingScheduled=!1,this.init=this.getInit(t,n),this.sentTracking=Object.create(this.init),this.unsentTracking={},this.customTimers={},this.shouldTrackPI=i,this.dataLayerHandler=new vt,this.leavePageHandler=new kt,this.historyHandler=new Et,this.gATrackingHandler=new Tt,this.customDimensions=[{name:"customPiDimensions",type:"PiDimension",dimensionData:{}},{name:"customSessionDimensions",type:"SessionDimension",dimensionData:{}}],this.enforcedTopLevelAttributes=[{key:"pageType",defaultValue:"None"}],this.onDOMInteractive=ie,this.onLoad=ne,this.onSpeedKitLoaded=gt,this.onGaReady=this.gATrackingHandler.onGaReady.bind(this.gATrackingHandler),this.onGaTracking=this.gATrackingHandler.onGaTracking.bind(this.gATrackingHandler),this.onDataLayer=this.dataLayerHandler.onDataLayer.bind(this.dataLayerHandler),this.onDataLayerReady=this.dataLayerHandler.onDataLayerReady.bind(this.dataLayerHandler),this.onDfDataReady=bt,this.onVisibilityHidden=wt,this.onLeavePage=this.leavePageHandler.onLeavePage.bind(this.leavePageHandler),this.onClick=Nt,this.onNextTick=Pt,this.getSelector=Ke,this.onSoftNavigation=this.historyHandler.onSoftNavigation.bind(this.historyHandler),this.pluginHandler=new St(this)}return e.prototype.initializePlugins=function(){var t=this.getPlugins();this.initCustomTimerData(t),this.initCustomDimensionData(t),this.initEnforcedTopLevelAttributes(t),t.forEach(this.pluginHandler.initPlugin,this.pluginHandler),this.leavePageHandler.init()},e.prototype.reinitialize=function(t,n){this.init=this.getInit(t,n),this.sentTracking=Object.create(this.init),this.unsentTracking={},this.beaconIndex=0,this.shouldTrackPI=!x().pageDisabled&&a.group!=="B"},e.prototype.reportEvent=function(t,n,i,r){if(!(n===void 0||n<0)&&(this.reportTracking(t,n),r!==void 0&&i)){var o=r-n;if(o<0)return;this.reportTracking(i,o)}},e.prototype.sendCurrentTracking=function(t){if((t||!(this.beaconIndex>=90))&&!x().noTracking){var n=this.getUnsentTracking();if(n){t&&(n.unloadType=t,this.sentTracking.unloadType=t);var i="";n.beaconIndex===0&&(i="?pi=1"+(this.shouldTrackPI?"&bqpi=1":"")),this.shouldTrackPI=!1,Ae(a.appURL+"/rum/pi"+i,n)}}},e.prototype.updateBaseDimension=function(t,n){this.init[t]=n},e.prototype.trackCustomEvent=function(t,n,i,r){r===void 0&&(r=!0);var o={action:""+t,label:""+n,value:isNaN(Number(i))?0:Number(i)};this.reportTracking("events",o,R.Append),r&&this.sendCollapsed()},e.prototype.set=function(t,n,i,r){var o;i===void 0&&(i=!0),r===void 0&&(r=!1),o=typeof r=="boolean"?r?R.Force:R.Override:r;var s=this.reportTracking(t,n,o);return i&&this.sendCollapsed(),s},e.prototype.setTiming=function(t,n,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!1),typeof n=="number"?this.set(t,n-this.init.navigationStart,i,r):this.set(t,n,i,r)},e.prototype.append=function(t,n,i){i===void 0&&(i=!0),this.reportTracking(t,n,R.Append),i&&this.sendCollapsed()},e.prototype.getBeaconIndex=function(){return this.beaconIndex},e.prototype.calculateRelative=function(t){if(t!==void 0)return t-this.init.navigationStart},e.prototype.reportTracking=function(t,n,i){if(i===void 0&&(i=R.Override),n==null||n==="")return!1;var r=this.customDimensions.filter(function(o){return o.dimensionData.hasOwnProperty(t)})[0];return r?this.reportCustomDimension(t,n,r.type):this.customTimers.hasOwnProperty(t)?this.reportCustomTimer(t,n):i===R.Append?(this.unsentTracking[t]=this.getConcatenatedUnsent(t,n),!0):!(!Array.isArray(n)&&xe(n,this.sentTracking[t])&&i!==R.Force)&&(!this.sentTracking.hasOwnProperty(t)||i!==R.Once&&!this.isTopLevelDimension(t))&&(this.unsentTracking[t]=n,!0)},e.prototype.reportCustomDimension=function(t,n,i){var r=typeof n=="string"?n:JSON.stringify(n),o=this.customDimensions.filter(function(c){return c.type===i})[0];if(!o||o.dimensionData[t]&&o.dimensionData[t]!=="null")return!1;o.dimensionData[t]=r;var s=this.unsentTracking[o.name]||{};return s[t]=r,this.unsentTracking[o.name]=s,!0},e.prototype.reportCustomTimer=function(t,n){if(typeof n!="number"||this.customTimers[t]&&this.customTimers[t]!==-1)return!1;this.customTimers[t]=n;var i=this.unsentTracking.customTimers||{};return i[t]=n,this.unsentTracking.customTimers=i,!0},e.prototype.getPlugins=function(){return window.SpeedKit&&window.SpeedKit.rumPlugins?window.SpeedKit.rumPlugins:[]},e.prototype.initEnforcedTopLevelAttributes=function(t){var n=this;this.enforcedTopLevelAttributes.forEach(function(i){t.filter(function(r){return r.key===i.key}).length||n.reportTracking(i.key,i.defaultValue)})},e.prototype.initCustomDimensionData=function(t){var n=this;t.forEach(function(i){i.key&&(n.customDimensions.every(function(r){return r.type!==i.type})||n.isTopLevelDimension(i.key)||n.reportCustomDimension(i.key,"null",i.type))})},e.prototype.initCustomTimerData=function(t){var n=this;t.forEach(function(i){i.key&&i.type==="CustomTimer"&&(n.customTimers[i.key]=-1)})},e.prototype.getUnsentTracking=function(){if(Object.keys(this.unsentTracking).length===0)return null;var t=Object.create(null);for(var n in this.init)Object.prototype.hasOwnProperty.call(this.init,n)&&(t[n]=this.init[n]);for(var n in t.beaconIndex=this.beaconIndex,this.unsentTracking)Object.prototype.hasOwnProperty.call(this.unsentTracking,n)&&(this.sentTracking[n]=Array.isArray(this.unsentTracking[n])&&Array.isArray(this.sentTracking[n])?this.sentTracking[n].concat(this.unsentTracking[n]):this.unsentTracking[n],t[n]=this.unsentTracking[n]);return this.unsentTracking=Object.create(null),this.beaconIndex+=1,t},e.prototype.sendCollapsed=function(){var t=this;this.leavePageHandler.isUnloaded()?this.sendCurrentTracking():this.sendingScheduled||(this.sendingScheduled=!0,setTimeout(function(){t.sendingScheduled=!1,t.sendCurrentTracking()},100))},e.prototype.getInit=function(t,n){return x().performanceOnly?t:$(t,n)},e.prototype.getTrackedData=function(){var t=Object.create(null);for(var n in this.init)Object.prototype.hasOwnProperty.call(this.init,n)&&(t[n]=this.init[n]);for(var n in this.sentTracking)Object.prototype.hasOwnProperty.call(this.sentTracking,n)&&(t[n]=this.sentTracking[n]);return t},e.prototype.isTopLevelDimension=function(t){return!!this.enforcedTopLevelAttributes.filter(function(n){return n.key===t}).length},e.prototype.getConcatenatedUnsent=function(t,n){var i=Array.isArray(n)?n:[n],r=this.unsentTracking[t]!==void 0?this.unsentTracking[t]:[];return(Array.isArray(r)?r:[r]).concat(i)},e}();function qe(e){return parseFloat((1-e).toFixed(2))}function ye(){var e=g.userAgent;return e.indexOf("Safari")>-1&&e.indexOf("Edge")===-1&&e.indexOf("Chrome")===-1}function Me(){return!ye()&&typeof PerformanceNavigationTiming!="undefined"&&!!performance.getEntriesByType}function Se(){var e=performance.navigation;if(!Me())return He(e.type);var t=performance.getEntriesByType("navigation");return t[0]&&"toJSON"in t[0]?Z[t[0].type]:He(e.type)}function He(e){return typeof e!="number"?Z[e]:e}function ae(){return window.performance?performance.timing.navigationStart||Math.trunc(performance.timeOrigin):0}function je(e){var t=function(){var f=window.performance.timing;if(!Me())return f;var l=performance.getEntriesByType("navigation");return l[0]&&"toJSON"in l[0]?l[0].toJSON():f}(),n=window.performance.timing,i="entryType"in t,r={};for(var o in t)if(typeof t[o]=="number"){var s=t[o]!==0,c=n&&(typeof n[o]!="number"||n[o]!==0);s||c?i?r[o]=Math.trunc(t[o]):t[o]>=e&&(r[o]=t[o]-e):r[o]=-1}else r[o]=t[o];return r.navigationStart=e,r.domLoading=n.domLoading-e,r.ttfb=i?r.responseStart:n.domLoading-e,r}function Dt(e,t){e.lastNavigate.cdnBackendTime&&t.set("cdnBackendTime",e.lastNavigate.cdnBackendTime,!1),e.lastNavigate.cdnPoP&&t.set("cdnPop",""+e.lastNavigate.cdnPoP,!1);var n=function(){var i=null;try{i=new URL(a.sw||"",window.location.origin).searchParams.get("r")}catch(r){}return i}();n&&t.set("configVersion",""+n,!1)}function Ot(e,t){var n,i,r;e.controllingServiceWorker&&t.set("controllingSw",e.controllingServiceWorker,!1),e.lastNavigate.applicationState&&t.set("applicationState",e.lastNavigate.applicationState,!1),e.lastNavigate.responseCause!==I.Unknown&&t.set("responseCause",e.lastNavigate.responseCause,!1)&&t.set("responseSource",e.lastNavigate.responseSource,!1,!0),e.lastNavigate.disconnectCause!==Q.None&&e.lastNavigate.disconnectCause!==Q.DashboardDisabled&&t.set("disconnectCause",e.lastNavigate.disconnectCause,!1),typeof e.split=="number"&&t.set("split",(n=e.group,i=e.split,r=n==="A"&&typeof a.secondarySplit=="number"?a.secondaryGroup==="B"?qe(a.secondarySplit):a.secondarySplit:1,i*r),!1),e.readyState==="complete"&&e.lastNavigate.splitTestId!==e.splitTestId&&t.set("actualTestId",""+e.lastNavigate.splitTestId,!1),e.readyState==="complete"&&e.lastNavigate.group!==e.group&&t.set("actualTestGroup",""+e.lastNavigate.group,!1)}function z(e,t){var n,i=e.rumController,r=!!a.secondaryGroup,o=window.devicePixelRatio,s=e.lastNavigate.responseCause===I.BfCache,c=r?e.splitTestId+"-"+a.secondaryTestId:e.splitTestId,f=function(){if(x().stripAllParameter)return location.href.replace(/\?.*/,"?redacted");if(x().stripParameters){var d=new URL(location.href);return x().stripParameters.forEach(function(h,u){var b=new URL(location.href).searchParams.get(h)||"",N=b.length?h+"="+b:h;d.search=d.search.replace(new RegExp("(\\?|&)"+N),"$1redacted-"+u)}),d.href}return location.href}();r&&i.updateBaseDimension("testGroup",a.group+"-"+a.secondaryGroup);var l=x().performanceOnly?0:e.sessionIndex;i.set("sessionIndex",l,!1);var y=ae();i.reportEvent("snippetExecution",e.executionTime-y),i.set("url",f,!1,R.Once),i.set("userAgent",g.userAgent,!1,R.Once),i.set("referrer",v.referrer,!1),i.set("testId",c||"None",!1),i.set("responseSource",e.lastNavigate.responseSource,!1),i.set("assetSource",e.lastNavigate.assetSource,!1),i.set("assetCause",e.lastNavigate.assetCause,!1),i.set("firstLoad",e.lastNavigate.firstLoad,!1),i.set("disabled",e.disabled,!1),i.set("swSupported",e.swSupported,!1),i.set("skSupported",e.skSupported,!1),i.set("screenResolution",e.screenResolution,!1,R.Once),i.set("documentVisible",v.visibilityState==="visible",!1,R.Once),i.set("variation",e.lastNavigate.variation,!1),i.set("pageTypeEnabled",e.pageTypeEnabled,!1,R.Once),i.set("devicePixelRatio",o,!1),i.set("inControlGroup",a.isControlGroup,!1),i.set("inIFrame",window.top!==window,!1),i.set("supportsTouch","ontouchend"in v,!1),Ot(e,i),typeof window.performance===void 0||s||(function(d){var h=ae(),u=je(h);d.set("navigationStart",h,!1),d.set("secureConnectDuration",u.secureConnectionStart>=0&&u.connectEnd>=0?u.connectEnd-u.secureConnectionStart:-1,!1),d.reportEvent("unload",u.unloadEventStart,"unloadDuration",u.unloadEventEnd),d.reportEvent("domainLookup",u.domainLookupStart,"domainLookupDuration",u.domainLookupEnd),d.reportEvent("connect",u.connectStart,"connectDuration",u.connectEnd),d.reportEvent("redirect",u.redirectStart,"redirectDuration",u.redirectEnd),d.reportEvent("response",u.responseStart,"responseDuration",u.responseEnd),d.reportEvent("load",u.loadEventStart,"loadDuration",u.loadEventEnd),d.reportEvent("domContentLoaded",u.domContentLoadedEventStart,"domContentLoadedDuration",u.domContentLoadedEventEnd),d.reportEvent("request",u.requestStart),d.reportEvent("fetch",u.fetchStart),d.reportEvent("ttfb",u.ttfb),d.reportEvent("domComplete",u.domComplete),d.reportEvent("domInteractive",u.domInteractive),d.reportEvent("workerStart",u.workerStart)}(i),function(d){var h=Se();h!==void 0&&d.set("navigationType",h,!1)}(i),function(d){if(typeof PerformancePaintTiming!="undefined"&&window.performance.getEntriesByType){var h=performance.getEntriesByType("paint");if(h&&h.length){var u=h.find(function(U){return U.name==="first-paint"}),b=h.find(function(U){return U.name==="first-contentful-paint"});d.set("firstPaint",u?Math.round(u.startTime):-1,!1),d.set("firstContentfulPaint",b?Math.round(b.startTime):-1,!1)}}else if(window.performance!==void 0){var N=performance.timing.msFirstPaint;N&&(d.setTiming("firstPaint",N,!1),d.setTiming("firstContentfulPaint",N,!1))}}(i)),s||(Dt(e,i),function(d,h){var u=d.lastNavigate?d.lastNavigate.timings:null;u&&(h.setTiming("speedKitFetchEvent",u.eventStart,!1),h.setTiming("speedKitHandle",u.handleStart,!1),h.setTiming("speedKitBlacklistHandler",u.blacklistHandler,!1),h.setTiming("speedKitDisabledPageHandler",u.disabledPageHandler,!1),u.handleStart!==void 0&&u.handleEnd!==void 0&&h.set("speedKitHandleDuration",u.handleEnd-u.handleStart,!1),u.cacheStart!==void 0&&u.cacheEnd!==void 0&&h.reportEvent("speedKitCacheLookup",u.cacheStart-u.handleStart,"speedKitCacheLookupDuration",u.cacheEnd-u.handleStart),u.fetchStart!==void 0&&u.fetchEnd!==void 0&&h.reportEvent("speedKitFetchCall",u.fetchStart-u.handleStart,"speedKitFetchCallDuration",u.fetchEnd-u.handleStart))}(e,i),i.set("originTTFB",e.lastNavigate.originTTFB,!1),i.set("assetTTFB",e.lastNavigate.assetTTFB,!1),i.set("redirectList",(n=e.lastNavigate.redirectList)===null||n===void 0?void 0:n.map(function(d){return d.url}),!1,R.Once)),t?i.sendCurrentTracking(t):i.sendCollapsed()}function V(){return!!v.querySelector(".speed-kit-dynamic-loading,.speed-kit-dynamic-loaded")}function We(e,t,n){var i=x();return!i.noTracking&&!i.performanceOnly&&(j(M,e),j(te,t),j(le,""+n),j(pe,Date.now().toString()),!0)}function Rt(e){var t,n=!1,i=!1,r=function(){n&&i&&z(e)};ne(function(){setTimeout(function(){n=!0,r()})}),function(o,s){o.readyState!=="complete"?window.addEventListener("speed-kit-completed",s,{once:!0}):s()}(e,function(){i=!0,r()}),t=function(){r()},typeof PerformancePaintTiming!="undefined"&&window.performance.getEntriesByType&&performance.getEntriesByType("paint").length>0||typeof PerformanceObserver=="undefined"||typeof PerformancePaintTiming=="undefined"?t():new PerformanceObserver(t).observe({entryTypes:["paint"]}),window.addEventListener("pageshow",function(o){if(o.persisted){var s=ve(),c=s[0],f=s[1];SpeedKit.navigateId=""+X(32),SpeedKit.lastNavigate.responseCause=I.BfCache,SpeedKit.lastNavigate.responseSource=V()?L.AssetAPI:L.Origin,SpeedKit.sessionIndex=f,SpeedKit.executionTime=Date.now();var l=performance.timing.navigationStart||performance.timeOrigin,y={sessionId:c,userId:SpeedKit.userId},d={navigationStart:l,testGroup:SpeedKit.group,piId:SpeedKit.navigateId};SpeedKit.lastNavigate.firstLoad=!1,SpeedKit.rumController.reinitialize(d,y),We(SpeedKit.userId,c,f),z(SpeedKit)}})}function we(e,t,n){var i;n===void 0&&(n={}),typeof CustomEvent=="function"?i=new CustomEvent(e,{detail:n}):(i=v.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(i)}function se(e){e.readyState!==q.Complete&&(e.readyState===q.Loading&&(e.readyState=q.Prepared,we("speed-kit-prepared",window)),setTimeout(function(){e.readyState=q.Complete,we("speed-kit-completed",window)}))}function be(e,t,n,i){i===void 0&&(i=1e3);var r=!1;return n&&setTimeout(function(){return r?null:n()},i),new Promise(function(o,s){var c=new MessageChannel,f=c.port1,l=c.port2;f.onmessage=function(y){r=!0,o(y.data)},f.onmessageerror=function(y){return s(y.data)},e.postMessage(t,[l])})}function At(e,t){be(e,{type:"get-navigate-info",clientURL:location.href},function(){t.lastNavigate.responseSource=V()?L.AssetAPI:L.Origin,t.lastNavigate.responseCause=I.NoSwResponse,se(t)}).catch(function(n){return C(n,T.SNIPPET),null}).then(function(n){(function(i,r){if(!(!r||"wasCacheHit"in r)){if("reason"in r)return i.lastNavigate.applicationState=r.applicationState,i.lastNavigate.errorMessage=r.reason,void(r.applicationState===oe.FAILED&&(i.lastNavigate.responseCause=I.SwFailed));r.firstLoad=i.lastNavigate.firstLoad;var o=r.responseSource===L.Origin,s=[I.NoMatchingNavigate,I.SwBooting,I.NoNavigate,I.Unknown].includes(r.responseCause);i.lastNavigate=Object.assign(i.lastNavigate,r),o&&V()&&(i.lastNavigate.responseSource=s?L.AssetAPI:L.SDN)}})(t,n),se(t)})}function xt(e){return fetch(a.appURL+"/config/VAPIDPublicKey").then(function(t){return t.arrayBuffer()}).then(function(t){return{applicationServerKey:t,userVisibleOnly:!0}}).then(function(t){return e.subscribe(t)}).then(function(t){var n={subscription:t,devicetype:"WebPush"};return fetch(a.appURL+"/db/Device/register",{method:"POST",credentials:"include",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})}).then(function(t){return t.status===200},function(){return!1})}function Ut(){return"Notification"in window?Notification.requestPermission().then(function(e){return e==="denied"?"denied":e!=="granted"?"undecided":g[O].ready.then(function(t){var n=t.pushManager;return function(i){return i.getSubscription().then(function(r){return!!r})}(n).then(function(i){return!!i||xt(n)})}).then(function(t){return t?"registered":"unregistered"})}):Promise.resolve("unsupported")}function ke(e){var t=g[O];if(t&&t.ready&&typeof t.ready.then=="function")return t.ready.then(function(n){var i;if(n.active&&n.active.state==="activated")return n.active.postMessage(e);(i=n.active)===null||i===void 0||i.addEventListener("statechange",function(){var r;((r=n.active)===null||r===void 0?void 0:r.state)==="activated"&&n.active.postMessage(e)})})}function Ve(e){return e&&new URL(e,location.origin).pathname}function Te(e){var t;(t=ke({type:"update-device",data:e}))===null||t===void 0||t.catch(function(n){return C(n,T.SNIPPET)});try{(function(n){if(a.group!=="B"){var i=Ve(a.scope),r=g.userAgent,o=new ge(i);o.set("/com.baqend.speedkit.device",{device:n,userAgent:r}).catch(function(s){return C(s,T.SNIPPET)}).then(function(){return o.disconnect().catch(function(s){return C(s,T.SNIPPET)})})}})(e)}catch(n){C(n,T.SNIPPET)}}function Je(e){var t=g[O].controller;t&&t.postMessage({type:"bypass-deactivation",data:e})}function Bt(){var e=g[O];e&&e.controller&&e.controller.postMessage({type:"connect"})}function Kt(){var e=g[O];e&&e.controller&&e.controller.postMessage({type:"disconnect"})}function Ft(){var e=H("baqend-speedkit-hashing-salt");if(e)return e;var t=function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",r=0;r<32;r+=1)i+=n.charAt(Math.floor(Math.random()*n.length));return i}();return re("baqend-speedkit-hashing-salt",t),t}function Gt(e){return function(t,n){for(var i="",r=0;r<t.length;r+=1){var o=r%n.length;i+=(t.charCodeAt(r)^n.charCodeAt(o)).toString(32)}return i}(e,Ft())}function qt(e){var t=g[O].controller;t&&t.postMessage({type:"offline",data:e})}function ze(){var e=g[O].controller;e&&e.postMessage({type:"fetch-bloom-filter",data:!0})}function Y(){return a.disabled||a.enabled===!1}function Ie(e){return e===I.SkUnsupported}function ee(e){var t;(t=ke({event:e,type:"send-cookies",data:v.cookie}))===null||t===void 0||t.catch(function(n){return C(n,T.SNIPPET)})}function Ye(e,t,n){return!!g[O]&&!!g[O].getRegistrations&&function(i,r,o){return i==="Safari"?r!==15||o>=2||g.userAgent.includes("SpeedCurve"):i==="Chrome"?r>=61:i!=="Firefox"||r!==59}(e,t,n)}function _e(){return g.userAgent.toLowerCase().indexOf("wv)")>-1}function Xe(e){var t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)\.?(\d+)?/i)||[],n=null;if(/trident/i.test(t[1]))return n=/\brv[ :]+(\d+)\.?(\d+)?/g.exec(e)||[],["IE",parseInt(n[1],10)||0,parseInt(n[2],10)||0];var i=function(o){if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*?Version)/.test(o)){var s=o.match(/(OS |os |OS)(\d+)_?(\d+)?/i)||[];return[/\b(crios)\/(\d+)/i.test(o)?"Safari":"SafariWebView",parseInt(s[2],10)||0,parseInt(s[3],10)||0]}return null}(e)||function(o,s){if(s[1]==="Chrome"){var c=null;if((c=o.match(/\bEdg\/(\d+)\.?(\d+)?/)||o.match(/\bEdge\/(\d+)\.?(\d+)?/))!=null)return["Edge",parseInt(c[1],10),parseInt(c[2],10)||0];if((c=o.match(/\bOPR\/(\d+)\.?(\d+)?/))!=null)return["Opera",parseInt(c[1],10),parseInt(c[2],10)||0]}return null}(e,t);if(i!==null)return i;var r=t[2]?[t[1],parseInt(t[2],10),parseInt(t[3],10)||0]:[g.appName,parseInt(g.appVersion,10),0];return e.indexOf("Android")===-1&&(n=e.match(/version\/(\d+)\.?(\d+)?/i))!=null&&(r.splice(1,1,parseInt(n[1],10)),r.splice(2,1,parseInt(n[2],10)||0)),r}function $e(){var e=Xe(g.userAgent);return e[0]==="SafariWebView"&&e[1]>=14}function Qe(){return g.userAgent.indexOf("Edge")>=0}function Ze(e,t,n,i){i===void 0&&(i=!1);var r=!a.enableForWebViews&&(_e()||$e());return Ye(e,t,n)&&!i&&!r&&!Qe()}function Mt(e){return"regexp:/"+e.source+"/"+(e.flags||"")}function ce(e,t,n){return n===void 0&&(n=1),t instanceof Array?t.some(function(i){return ce(e,i,n)}):t instanceof RegExp?t.test(e):n===2?e.toLowerCase()===t.toLowerCase():String.prototype.startsWith?e.toLowerCase().startsWith(t.toLowerCase()):e.toLowerCase().substring(0,t.length)===t.toLowerCase()}function Ht(e){return function(t){return/^(?:(?:\w+?:)?\/\/)?(.*)$/.exec(t)[1]}(function(t){try{var n=new URL(t);return n.hash&&(n.hash=""),n.toString()}catch(r){var i=t.match(/([^#]+)#/);return i&&i[1]?i[1]:t}}(e))}function ue(e){var t,n;if(e.contentType&&!(e.contentType.indexOf(D.Document)>=0||e.contentType.indexOf(D.Navigate)>=0))return!1;var i=[];if(e.pathname){var r=((t=a.ruleSetConfig)===null||t===void 0?void 0:t.version)&&((n=a.ruleSetConfig)===null||n===void 0?void 0:n.version)>=2?location.pathname:""+location.pathname+location.search;i.push(ce(r,e.pathname))}return e.host&&i.push(ce(location.host,e.host)),e.url&&i.push(ce(Ht(location.href),e.url)),!!i.length&&i.every(function(o){return o})}function jt(e){var t;(t=ke({type:"prewarm-fetch",data:e.filter(function(n){return function(i){try{return new URL(i,window.location.origin),!0}catch(r){return!1}}(typeof n=="string"?n:n.url)}).map(function(n){var i=typeof n!="string";return{url:i?n.url:n,contentType:i&&n.as||D.Navigate}})}))===null||t===void 0||t.catch(function(n){C(n,T.SNIPPET)})}function Wt(e,t){var n,i,r,o,s,c,f,l=a.group,y=window.SpeedKit||{},d=y.navigateId||""+X(32),h=ae(),u=t.userId,b=t.sessionId,N=t.sessionIndex,U=e.browser,W=e.browserVersion,B=e.minorVersion,p={navigationStart:h,testGroup:l,piId:d},S={userId:u,sessionId:b},m=(n=e.responseCause,i=!x().pageDisabled,(Y()||Ie(n))&&i&&a.group!=="B"),w=new Lt(p,S,m),E=w.trackCustomEvent.bind(w),P=w.getTrackedData.bind(w),K={navigateId:d,userId:u,sessionId:b,sessionIndex:N,group:l,rumController:w,getTrackedData:P,track:E,subscribe:Ut,bypassDeactivation:Je,activate:Bt,deactivate:Kt,split:typeof a.split=="number"?a.group==="B"?qe(a.split):a.split:1,updateDevice:Te,getHash:Gt,simulateOfflineMode:qt,fetchBloomFilter:ze,updateCookies:ee,preload:jt,disabled:!1,lastNavigate:e,readyState:q.Loading,splitTestId:a.splitTestId,controllingServiceWorker:Vt(),executionTime:Date.now(),swSupported:Ye(U,W,B),skSupported:Ze(U,W,B),screenResolution:{width:window.screen.width*window.devicePixelRatio,height:window.screen.height*window.devicePixelRatio},pageTypeEnabled:(r=!a.enabledSites||a.enabledSites.some(function(A){return ue(A)}),o=!!a.disabledSites&&a.disabledSites.some(function(A){return ue(A)}),s=r&&!o,c=!a.whitelist||a.whitelist.some(function(A){return ue(A)}),f=!!a.blacklist&&a.blacklist.some(function(A){return ue(A)}),s&&c&&!f)};return Object.keys(y).forEach(function(A){K[A]=y[A]}),window.SpeedKit=K,w.initializePlugins(),window.SpeedKit}function Vt(){return g.serviceWorker&&g.serviceWorker.controller?g.serviceWorker.controller.scriptURL:null}function de(e){if(typeof Storage!="undefined")try{localStorage.removeItem(e)}catch(t){}try{v.cookie=e+"=; expires="+new Date().toUTCString()+"; path=/; SameSite=lax; Secure"}catch(t){}}function et(e,t){if(t)return!0;var n=e.group,i=e.testId;return!(!i||i.indexOf("-debug")===-1)||n!=="A"}function tt(){return H("baqend-speedkit-debug")==="true"}function nt(e,t){var n=function(r,o){var s=o==="baqend-speedkit-secondary-config",c=function(l,y){var d=l.testId!=="undefined",h=l.group!=="undefined",u=y?a.secondaryTestId:a.splitTestId,b=d&&(N=l.testId,U=u,(N==null?void 0:N.replace("-debug",""))!==(U==null?void 0:U.replace("-debug",""))),N,U;if(h&&!b)return l.group;var W=y?a.secondaryGroup:a.group,B=y?a.secondarySplit:a.split;return function(p,S){return p===void 0?Math.random()<S?"A":"B":p}(W,B)}(r,s),f=s?a.secondaryTestId:a.splitTestId;return f&&(f=function(l){return tt()?l.indexOf("-debug")>-1?l:l+"-debug":l.replace("-debug","")}(f)),{group:c,testId:f}}(e,t),i=t==="baqend-speedkit-secondary-config";return i?(a.secondaryGroup=n.group,a.secondaryTestId=n.testId):(a.group=n.group,a.splitTestId=n.testId),et(n,i?a.secondarySplit<1:a.split<1)?(function(r,o,s){c=s,f=encodeURIComponent(JSON.stringify(r)),l=encodeURIComponent(JSON.stringify(o)),l!==f&&l&&j(c,l);var c,f,l}(e,n,t),!0):(de(t),!1)}function Jt(e,t,n,i){var r=window.location.href,o=Xe(g.userAgent),s=o[0],c=o[1],f=o[2],l=function(d,h,u,b,N,U){var W=Ze(d,h,u,b),B=a.group==="B"||a.secondaryGroup==="B";return W?!B&&Y()?[L.Origin,I.Disabled]:!N||!a.sdnSetup&&V()?!B&&U?[L.Origin,I.GroupChange]:B?[L.Origin,I.NonSKGroup]:g[O].controller?[V()?L.AssetAPI:L.Origin,I.Unknown]:[L.Origin,I.NoSwInstalled]:[L.Origin,I.FirstLoad]:[L.Origin,I.SkUnsupported]}(s,c,f,e,t,n.group==="B"||i.group==="B"),y=l[0];return{url:r,browser:s,firstLoad:t,browserVersion:c,minorVersion:f,responseCause:l[1],responseSource:y,cdnBackendTime:null,cdnPoP:null,splitTestId:n.testId,group:a.split!==void 0?n.group:a.group,disconnectCause:Q.None}}function Ce(e,t,n){return e.put(""+t,new Response(null,{status:200,statusText:(i=n,JSON.stringify(i,function(r,o){return o instanceof RegExp?Mt(o):o}))}));var i}function _(){var e=new URL(a.sw||"/sw.js",location.origin);return e.origin+e.pathname}function zt(e){var t=function(n){var i=n;if(a.includeServiceWorker){var r=n.indexOf("?")>=0?"&":"?";i+=r+"othersw="+a.includeServiceWorker}return i}(a.sw);return g[O].register(t,{scope:a.scope||"/"}).then(function(n){var i;i=!1,v.addEventListener("visibilitychange",function(){v.visibilityState==="hidden"?i||(i=!0,ee("visibilitychange")):i=!1}),window.addEventListener("pagehide",function(){i||(i=!0,ee("pagehide"))});var r=_(),o=e.controllingServiceWorker;(!o||(r==null?void 0:r.split("?")[0])!==o.split("?")[0])&&function(s){ne(function(){window.setTimeout(function(){if(s.active&&typeof PerformanceResourceTiming!="undefined"){var c,f=(c=je(ae()).domContentLoadedEventEnd,window.performance.getEntriesByType?performance.getEntriesByType("resource").filter(function(l){if(c>0&&l.startTime+l.duration>c)return!1;var y;try{y=new URL(l.name)}catch(d){return!1}return(y==null?void 0:y.origin)!==window.location.origin}):[]).map(function(l){var y,d=l.name,h=l.initiatorType;return h==="link"&&(y=function(u){var b=v.querySelector('link[href="'+u+'"]');switch((b==null?void 0:b.getAttribute("rel"))||(b==null?void 0:b.getAttribute("as"))){case"audio":return D.Audio;case"document":return D.Document;case"fetch":return D.Fetch;case"image":return D.Image;case"script":return D.Script;case"stylesheet":case"style":return D.Style;case"track":return D.Track;case"video":return D.Video;default:return}}(d)),{initiatorType:h,contentType:y,url:d}});be(s.active,{type:"prewarm-fetch",data:f}).then(function(l){if(l.applicationState===oe.FAILED)return function(y){return window.caches?caches.open(fe(F,a.scope)).then(function(d){var h=window.devicePixelRatio,u=window.screen.width,b=[[location.origin,v.cookie]];return Promise.all([Ce(d,"/com.baqend.speedkit.screen",{dpr:h,width:u}),Ce(d,"/com.baqend.speedkit.config",a),Ce(d,"/com.baqend.speedkit.cookie",{origins:b})])}).then(function(){return y.postMessage({type:"init-cache"})}):Promise.resolve()}(s.active)})}},1e3)})}(n),function(s){s.navigationPreload&&function(c){if(c.active)return Promise.resolve(c.active);var f=c.waiting||c.installing;return new Promise(function(l){return f.onstatechange=function(){f.state==="activated"&&l(f)}})}(s).then(function(){a.navigationPreload?s.navigationPreload.enable():s.navigationPreload.disable()}).catch(function(c){return C(c,T.SNIPPET)})}(n)})}function it(e){v.readyState==="loading"?v.addEventListener("DOMContentLoaded",e):setTimeout(e,0)}function rt(e){var t=G(e),n=e==="baqend-speedkit-secondary-config",i=n?a.secondarySplit:a.split,r=n?F+"-secondary-ab-test-info":F+"-ab-test-info";if(t)return ot(t);var o={group:"undefined",testId:"undefined"},s=G(r);return s&&(o=ot(s),de(r),et(o,i!=null&&i<1)&&j(e,encodeURIComponent(JSON.stringify(o)))),o}function ot(e){try{return JSON.parse(decodeURIComponent(e))}catch(t){return{group:"undefined",testId:"undefined"}}}function Yt(){var e,t,n=JSON.parse(H("baqend-speedkit-rum-split-enabled")||"{}"),i=!n.sessionId,r=n.sessionId===G(te);return{rumSplitEnabled:n&&n.sessionId?n.split!==!1:(t=Math.random()<((e=a.sampleRate)!==null&&e!==void 0?e:1),a.sampleRate&&re("baqend-speedkit-rum-split-enabled",JSON.stringify({split:t,sessionId:G("baqend-speedkit-session-id")})),t),isActiveSession:i||r}}function _t(){if(!(!he()&&H("baqend-speedkit-rum-opt-out")!=="1"&&!window.deactivateSpeedKitRUM))return!1;var e=a.rumTracking;if(!e)return!1;if(a.sampleRate===void 0)return function(r){if(v.cookie=r+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax; Secure",typeof Storage!="undefined")try{localStorage.removeItem(r)}catch(o){}}("baqend-speedkit-rum-split-enabled"),e;var t=Yt(),n=t.rumSplitEnabled,i=t.isActiveSession;return!(!n||!i)&&e}function at(e){for(var t=0,n=v.cookie.replace(/\s/g,"").split(";").filter(function(s){return s.lastIndexOf(e,0)===0});t<n.length;t++){var i=n[t],r=i.indexOf("="),o=r>-1?i.substr(0,r):i;v.cookie=o+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax; Secure"}}function Xt(e,t){if(e)return function(n,i){if(typeof Storage!="undefined")try{for(var r in localStorage)r.includes(n)&&!(i!=null&&i.includes(r))&&localStorage.removeItem(r)}catch(o){}}(F,["baqend-speedkit-sk-opt-out"]),void at(F);t.noCookies&&at(F),!t.noTracking&&!t.performanceOnly||a.sampleRate||[M,te,le,pe].forEach(function(n){return de(n)})}function st(e){e.readyState!==q.Prepared&&e.readyState!==q.Complete&&(e.readyState=q.Prepared,we("speed-kit-prepared",window))}function ct(e){var t=e.active||e.installing||e.waiting;if(!t)return"";var n=new URL(t.scriptURL);return n.origin+n.pathname}(function(e){e.Blacklist="Blacklist",e.Blocked="Blocked",e.ClientError="ClientError",e.Redirect="Redirect",e.CORSRedirect="CORSRedirect",e.CriticalResource="CriticalResource",e.Delayed="Delayed",e.Disabled="Disabled",e.Disconnected="Disconnected",e.DynamicBlock="DynamicBlock",e.DynamicBlockPreload="DynamicBlockPreload",e.DynamicBlockCached="DynamicBlockCached",e.Error="Error",e.Fallback="Fallback",e.Fetchlist="Fetchlist",e.FirstLoad="FirstLoad",e.GroupChange="GroupChange",e.HardReload="HardReload",e.IgnoredAfterPOSTNavigate="IgnoredAfterPOSTNavigate",e.InternalServerError="InternalServerError",e.LoopDetected="LoopDetected",e.NavigationPreload="NavigationPreload",e.NonSKGroup="NonSKGroup",e.SkUnsupported="SkUnsupported",e.NoSwInstalled="NoSwInstalled",e.NoSwResponse="NoSwResponse",e.Offline="Offline",e.Onboarding="Onboarding",e.SafeScript="SafeScript",e.SwFailed="SwFailed",e.TrackingRequest="TrackingRequest",e.Unknown="Unknown",e.Immutable="Immutable",e.BfCache="BfCache",e.NotEnabled="NotEnabled",e.NotWhitelisted="NotWhitelisted",e.UserAgentChanged="UserAgentChanged",e.TooLargeRequest="TooLargeRequest",e.FormatNotSupported="FormatNotSupported",e.OtherSwInstalled="OtherSwInstalled",e.SwBooting="SwBooting",e.NoNavigate="NoNavigate",e.NoMatchingNavigate="NoMatchingNavigate",e.Timeout="Timeout",e.DisabledSites="DisabledSites",e.PartialResponse="PartialResponse",e.PreloadBlacklist="PreloadBlacklist"})(I||(I={})),function(e){e.CacheMiss="CacheMiss",e.ExpiredResponse="ExpiredResponse",e.InstantRefresh="InstantRefresh",e.Deployment="Deployment",e.InvalidCacheSketch="InvalidCacheSketch",e.ReloadCacheMode="ReloadCacheMode",e.UrlInCacheSketch="UrlInCacheSketch"}(Fe||(Fe={})),function(e){e.CacheHit="CacheHit",e.RevalidationWhitelist="RevalidationWhitelist"}(Ge||(Ge={})),function(e){e.SWException="SWException",e.BloomfilterException="BloomfilterException",e.DashboardDisabled="DashboardDisabled",e.ServerError="ServerError",e.None="None",e.AssetTimeout="AssetTimeout"}(Q||(Q={})),function(e){e[e.navigate=0]="navigate",e[e.reload=1]="reload",e[e.back_forward=2]="back_forward",e[e.prerender=3]="prerender",e[e.reserved=255]="reserved"}(Z||(Z={})),function(e){e.AssetAPI="AssetAPI",e.Shield="Shield",e.Storage="Storage",e.Edge="Edge",e.Collapsed="Collapsed",e.PendingAsset="PendingAsset",e.Stream="Stream",e.MissingCachingHeader="MissingCachingHeader",e.Generated="Generated",e.Origin="Origin",e.SwCache="SwCache",e.SDN="SDN"}(L||(L={})),function(e){e.Loading="loading",e.Complete="complete",e.Prepared="prepared"}(q||(q={})),function(e){e.INSTALLING="installing",e.BOOTING="booting",e.RUNNING="running",e.FAILED="failed"}(oe||(oe={})),function(e){e.Document="document",e.Navigate="navigate",e.Fetch="fetch",e.Audio="audio",e.Video="video",e.Track="track",e.PDF="pdf",e.Image="image",e.Style="style",e.Script="script",e.Font="font",e.Undefined="undefined"}(D||(D={}));try{(function(){if(!function(){var p;try{window.navigator.serviceWorker,v.cookie}catch(m){if(String(m.message)==="SecurityError"||String(m).indexOf("sandboxed")>=0)return!0}var S=(p=window.frameElement)===null||p===void 0?void 0:p.getAttribute("sandbox");return!!S&&S!=="false"}()&&!window[De]){window[De]=!0,window.addEventListener("speed-kit-completed",function(p){if(/speedKitStatus/.test(window.location.href)){var S=window.SpeedKit,m=S.group,w=S.lastNavigate,E=w.responseCause,P=w.responseSource;alert("\n     Group: "+m+"\n\n     Cause: "+E+"\n\n     Source: "+P)}});var e=window.location.href.match(/speed-kit-rum-opt-out=([01])/);e&&re("baqend-speedkit-rum-opt-out",e[1]);var t=he();t&&(a.rumTracking=!1);var n=function(){if(G("baqend-speedkit-config")!==null||G(M)!==null)return!1;if(g.serviceWorker&&(a.split==null||a.split===1)){var p=_(),S=g.serviceWorker.controller;return!S||!lt(p,S)}return!0}(),i=function(){var p={group:"",testId:a.splitTestId};if(window.location.href.indexOf("disableSpeedKit=1")>=0?p.group="B":window.location.href.indexOf("enableSpeedKit=1")>=0&&(p.group="A"),p.group)return j("baqend-speedkit-config",encodeURIComponent(JSON.stringify(p))),p}()||rt("baqend-speedkit-config"),r=rt("baqend-speedkit-secondary-config"),o=function(p,S,m){var w=!1;if(m)return a.group="optOut",w;if(a.split==null){var E=p.testId==="undefined"&&p.group!=="undefined";a.group=E?p.group:"A"}else w=nt(p,"baqend-speedkit-config");if(tt()&&(a.secondarySplit=null),a.secondarySplit!=null&&a.group==="A"){var P=nt(S,"baqend-speedkit-secondary-config");w=w||P}return w}(i,r,t),s=function(){var p,S=window.SpeedKit||{},m=S.userId,w=S.sessionId,E=S.sessionIndex,P=x(),K=!P.noTracking&&!P.performanceOnly;return S.sessionId||(w=(p=K?ve():["",0])[0],E=p[1]),S.userId||(m=K?Ue():""),{userInfo:{userId:m,sessionId:w,sessionIndex:E},persisted:We(m,w,E)}}(),c=s.userInfo,f=s.persisted,l=function(p,S){var m=G(M)===null&&G("baqend-speedkit-config")===null&&G("baqend-speedkit-secondary-config")===null;return m?m&&p?!0:S?!1:(j(M,"testDenied"),m=G(M)===null,de(M),m):!1}(o&&f,t),y=g.userAgent.indexOf("Firefox/")>=0;(function(p,S){a.sw=a.sw||"/sw.js",a.split!=null&&a.group&&(a.sw=(m=a.sw,w="gr",E=a.group,P=m.indexOf("?")>-1?"&":"?",""+m+P+w+"="+E));var m,w,E,P;a.rumTracking=_t(),a.isControlGroup===void 0&&(a.isControlGroup=(K=a.group,A=a.secondaryGroup,K==="B"||K==="A"&&A==="B"));var K,A,Ee=!a.enableForWebViews&&(_e()||$e());a.disabled=a.enabled===!1||a.disabled||a.group==="B"||a.secondaryGroup==="B"||Ee||Qe()||p,a.appURL="https://"+(a.appDomain||"{}.app.baqend.com".replace("{}",a.appName))+"/v1",a.customVariation&&a.customVariation.forEach(function(k){var J;k.variationFunction=typeof k.variationFunction=="function"?k.variationFunction.toString():k.variationFunction,k.rules=(J=k.rules)===null||J===void 0?void 0:J.map(function(Le){return Le.contentType?Le:Object.assign(Le,{contentType:[D.Document]})}),k.rules||(k.rules=[{contentType:[D.Document]}])}),a.urlTransform&&a.urlTransform.forEach(function(k){k.transformFunction=typeof k.transformFunction=="function"?k.transformFunction.toString():k.transformFunction}),a.image&&Array.isArray(a.image)&&a.image.forEach(function(k){var J;k.imageFunction=typeof k.imageFunction=="function"?(J=k.imageFunction)===null||J===void 0?void 0:J.toString():k.imageFunction}),pt("customDevice"),V()?a.detectDevice=null:pt("detectDevice"),Array.isArray(a.shouldDetectDevice)&&a.shouldDetectDevice.length>0?a.shouldDetectDevice=a.shouldDetectDevice.map(function(k){return k.contentType?k:Object.assign(k,{contentType:[D.Document]})}):a.shouldDetectDevice=[{contentType:[D.Document]}],(S||ye())&&(a.navigationPreload=!1)})(t,y);var d=function(p,S){var m=Wt(p,S);return m.disabled=a.group!=="B"&&a.secondaryGroup!=="B"&&!!Y(),g[O]&&g[O].controller||!V()||(m.lastNavigate.responseSource=L.SDN),m}(Jt(l,n,i,r),c),h=x();Xt(t,h),h.noTracking||l||function(p){z(p),Rt(p)}(d),Ie(d.lastNavigate.responseCause)||Y()||(u=g.serviceWorker.register,Object.defineProperty(g.serviceWorker,"register",{configurable:!0,get:function(){return function(p,S){var m=_().split("/").pop();return m&&!p.includes(m)?g.serviceWorker.getRegistration():u.call(g.serviceWorker,p,S)}}}));var u;if(Ie(d.lastNavigate.responseCause)||(b=window.top!==window,location.protocol!=="https:"||!a.executeInIframe&&b))return st(d),void se(d);var b,N=g[O].controller,U=function(p,S,m){if(!m)return!1;var w=_();return m.scriptURL&&!lt(w,m)?(function(E,P){return a.group==="B"||a.secondaryGroup==="B"||E.lastNavigate.group==="B"||!!Y()||P}(p,S)||(p.lastNavigate.responseCause=I.OtherSwInstalled),!1):!0}(d,n,N);st(d),g.serviceWorker.getRegistrations().then(function(p){var S=_(),m=new URL(a.scope||"/",location.origin).toString();p.some(function(w){return w.scope===m&&ct(w)===S})&&Se()===1&&p.length>0&&!g.serviceWorker.controller&&(SpeedKit.lastNavigate.responseCause=I.HardReload)}),U?function(p,S,m,w){w&&!v.referrer&&function(P){be(P,{type:"get-referrer-info",clientURL:location.href}).then(function(K){if(!v.referrer&&K.referrer)return Object.defineProperty(v,"referrer",{configurable:!0,get:function(){return K.referrer}})})}(m),At(m,p),ee("load"),E=Object.getOwnPropertyDescriptor(Document.prototype,"cookie"),E&&E.configurable&&Object.defineProperty(Document.prototype,"cookie",{configurable:!0,get:function(){return E.get.call(v)},set:function(P){E.set.call(v,P),ee()}}),function(P){g[O].addEventListener("message",function(K){var A=K.data,Ee=A.type,k=A.payload;Ee==="asset-response-timings"&&(P.lastNavigate=Object.assign(P.lastNavigate,k),z(P))})}(p),ye()&&function(){return Se()===Z.reload}()&&ze();var E}(d,0,N,y):se(d);var W=function(){var p=window.location.href.indexOf("enableSpeedKit=1")>=0;return p&&(sessionStorage.setItem("enableSpeedKitParam","1"),Je(!0)),p}();if(Y()&&!W)return void Pe().catch(function(p){return C(p,T.SNIPPET)});if(!N)return Ne();B=!1,ne(function(){B||(B=!0,Ne())}),it(function(){setTimeout(function(){B||(B=!0,Ne())},1e3)});var B}})()}catch(e){C(e,T.SNIPPET)}function Ne(){var e=!1;ut().catch(function(t){return!e&&C(t,T.SNIPPET),e=!0,dt().then(function(){return ut()})}).then(function(){return zt(SpeedKit)}).catch(function(t){return function(n){return["The operation is insecure","A mutation operation was attempted on a database that did not allow mutations"].some(function(i){return n.indexOf(i)>-1})||n==="Rejected"}(me(t)?t.reason.message||JSON.stringify(t.reason):t.message)?(SpeedKit.lastNavigate.responseCause=I.SkUnsupported,z(SpeedKit),Pe()):(!e&&C(t,T.SNIPPET),e=!0,Pe())}).catch(function(t){!e&&C(t,T.SNIPPET),e=!0})}function ut(){var e=Ve(a.scope),t=new ge(e),n=window.devicePixelRatio,i=window.screen.width,r="ontouchend"in v,o=g.userAgent,s=a.customDevice,c=s?t.set("/com.baqend.speedkit.device",{device:s,userAgent:o}):Promise.resolve();return Promise.all([t.set("/com.baqend.speedkit.config",a),t.set("/com.baqend.speedkit.screen",{dpr:n,width:i,supportsTouch:r}),t.set("/com.baqend.speedkit.cookie",{origins:[[location.origin,v.cookie]]}),void 0,c]).then(function(){return t.disconnect()})}function Zt(e){}function Pe(){var e=new URL(a.scope||"/",location.origin).toString(),t=_();return g[O].getRegistrations().then(function(n){return n.forEach(function(i){var r=ct(i);i.scope===e&&r===t&&i.unregister()})}).catch(function(){return null}).then(function(){return dt()})}function dt(){return Promise.all([window.caches?caches.keys().then(function(t){var n=t.filter(function(i){return new RegExp("^"+fe(F,a.scope)+".*").test(i)});return Promise.all(n.map(function(i){return caches.delete(i)}))}):Promise.resolve(),(e=new ge(a.scope),e.clear().then(function(){return e.disconnect()}))]);var e}function lt(e,t){var n=t.scriptURL;if(!n)return!1;if(e===n.split("?")[0])return!0;var i=new URL(n).searchParams.get("othersw");return!!i&&e===i.split("?")[0]}function pt(e){if(a[e]){if(typeof a[e]!="function")return Te(a[e]);var t=a[e];a[e]=null,it(function(){try{var n=e==="detectDevice"?v:void 0,i=t.call(null,n);Promise.resolve(i).then(function(r){r&&typeof r=="string"&&Te(r)}).catch(function(r){C(r,T.CONFIG)})}catch(r){C(r,T.CONFIG)}})}}})(document,navigator,"serviceWorker",typeof speedKit!="undefined"?speedKit:config,"SNIPPET_LOADED");})();